import{ag as m,r as l,u as j,R as P,j as r,B as i,S as y,F as g}from"./vendor-BVgSJH5C.js";import{a as S,g as b,h as E,f as F}from"./index-543A5WcJ.js";const B=()=>{const[p,a]=m(),[o,d]=l.useState(()=>p.get("provider")||null),{data:f={},isLoading:u,error:n}=j({queryKey:["info"],queryFn:()=>F("/api/info")}),c=f.providers||[],t=l.useMemo(()=>c.slice().sort((e,s)=>{const v=typeof e=="object"&&e?.id?e.id:e,h=typeof s=="object"&&s?.id?s.id:s;return v.localeCompare(h)}),[c]);P.useEffect(()=>{if(t.length>0&&!o){const e=t[0],s=typeof e=="object"&&e?.id?e.id:e;d(s),a({provider:s},{replace:!0})}},[t,o,a]);const x=e=>{d(e),a({provider:e})};return u?r.jsx(i,{display:"flex",justifyContent:"center",mt:10,children:r.jsx(y,{size:"xl"})}):n?r.jsx(i,{mt:5,px:6,children:r.jsx(S,{error:n,fallbackMessage:"Failed to fetch provider data"})}):r.jsx(i,{py:6,px:6,children:r.jsx(i,{borderWidth:"1px",borderRadius:"lg",bg:"white",shadow:"sm",overflow:"hidden",minH:"70vh",children:r.jsxs(g,{children:[r.jsx(b,{providers:t,selectedProvider:o,onProviderSelect:x}),r.jsx(E,{providerId:o})]})})})};export{B as default};
