import{a0 as m,r as l,i as P,Y as y,j as r,B as t,S as g,A as S,T as p,F as b}from"./vendor-BVSmEsOp.js";import{d as E,e as F,f as w}from"./index-Dl1WS_Lc.js";const q=()=>{const[x,d]=m(),[o,a]=l.useState(()=>x.get("provider")||null),{data:f={},isLoading:h,error:n}=P({queryKey:["info"],queryFn:()=>w("/api/info")}),c=f.providers||[],i=l.useMemo(()=>c.slice().sort((e,s)=>{const v=typeof e=="object"&&e?.id?e.id:e,j=typeof s=="object"&&s?.id?s.id:s;return v.localeCompare(j)}),[c]);y.useEffect(()=>{if(i.length>0&&!o){const e=i[0],s=typeof e=="object"&&e?.id?e.id:e;a(s),d({provider:s},{replace:!0})}},[i,o,d]);const u=e=>{a(e),d({provider:e})};return h?r.jsx(t,{display:"flex",justifyContent:"center",mt:10,children:r.jsx(g,{size:"xl"})}):n?r.jsx(t,{mt:5,px:6,children:r.jsx(S,{status:"error",children:r.jsxs(t,{children:[r.jsx(p,{fontWeight:"bold",children:"Error"}),r.jsx(p,{children:n?.message||"Failed to fetch provider data"})]})})}):r.jsx(t,{py:6,px:6,children:r.jsx(t,{borderWidth:"1px",borderRadius:"lg",bg:"white",shadow:"sm",overflow:"hidden",minH:"70vh",children:r.jsxs(b,{children:[r.jsx(E,{providers:i,selectedProvider:o,onProviderSelect:u}),r.jsx(F,{providerId:o})]})})})};export{q as default};
