import{r as i,j as e,C as a,S,B as r,T as t,F as y}from"./index-D9bgjkyP.js";import{A as z,f as W}from"./api-XiGcpAVt.js";import{B as c}from"./badge-Bd5LzO8s.js";import{G as T}from"./grid-F6giFO6R.js";import{V as l}from"./v-stack-Bm-XzJuT.js";const B=()=>{const[d,g]=i.useState({}),[j,m]=i.useState(!0),[x,f]=i.useState(null);i.useEffect(()=>{(async()=>{try{const s=await W("/api/tm/stats");g(s)}catch(s){console.error("Error fetching TM stats:",s),f(s instanceof Error?s.message:"Failed to fetch translation memory statistics")}finally{m(!1)}})()},[]);const u=o=>{switch(o){case"done":return"green";case"pending":return"yellow";case"error":return"red";default:return"gray"}};return j?e.jsx(a,{display:"flex",justifyContent:"center",mt:10,children:e.jsx(S,{size:"xl"})}):x?e.jsx(a,{mt:5,children:e.jsx(z,{status:"error",children:e.jsxs(r,{children:[e.jsx(t,{fontWeight:"bold",children:"Error"}),e.jsx(t,{children:x})]})})}):e.jsx(a,{maxWidth:"6xl",py:6,children:e.jsxs(l,{gap:6,align:"stretch",children:[e.jsxs(r,{children:[e.jsx(t,{fontSize:"2xl",fontWeight:"bold",mb:2,children:"Translation Memory Statistics"}),e.jsx(t,{color:"gray.600",children:"Overview of jobs by translation provider for each language pair"})]}),Object.keys(d).length===0?e.jsx(r,{p:6,borderWidth:"1px",borderRadius:"md",bg:"white",textAlign:"center",children:e.jsx(t,{color:"gray.500",children:"No translation memory data found."})}):e.jsx(l,{gap:6,align:"stretch",children:Object.entries(d).flatMap(([o,s])=>Object.entries(s).map(([h,p])=>e.jsx(r,{p:6,borderWidth:"1px",borderRadius:"lg",bg:"white",shadow:"sm",children:e.jsxs(l,{gap:4,align:"stretch",children:[e.jsx(r,{children:e.jsxs(y,{align:"center",gap:3,mb:2,children:[e.jsx(c,{colorPalette:"blue",size:"sm",children:o}),e.jsx(t,{color:"gray.500",fontSize:"lg",children:"â†’"}),e.jsx(c,{colorPalette:"green",size:"sm",children:h})]})}),e.jsx(l,{gap:3,align:"stretch",children:p.map((n,b)=>e.jsx(r,{p:3,borderWidth:"1px",borderRadius:"md",borderColor:"gray.200",bg:"gray.50",children:e.jsxs(T,{templateColumns:"2fr 80px 80px 80px 80px",gap:4,alignItems:"center",children:[e.jsxs(r,{children:[e.jsx(t,{fontSize:"xs",color:"gray.500",mb:1,children:"Provider"}),e.jsx(t,{fontSize:"sm",fontWeight:"semibold",children:n.translationProvider})]}),e.jsxs(r,{textAlign:"center",children:[e.jsx(t,{fontSize:"xs",color:"gray.500",mb:1,children:"Status"}),e.jsx(c,{colorPalette:u(n.status),size:"sm",children:n.status})]}),e.jsxs(r,{textAlign:"center",children:[e.jsx(t,{fontSize:"xs",color:"gray.500",mb:1,children:"TUs"}),e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"purple.600",children:n.tuCount.toLocaleString()})]}),e.jsxs(r,{textAlign:"center",children:[e.jsx(t,{fontSize:"xs",color:"gray.500",mb:1,children:"Unique"}),e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"orange.600",children:n.distinctGuids.toLocaleString()})]}),e.jsxs(r,{textAlign:"center",children:[e.jsx(t,{fontSize:"xs",color:"gray.500",mb:1,children:"Jobs"}),e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"teal.600",children:n.jobCount.toLocaleString()})]})]})},b))})]})},`${o}-${h}`)))})]})})};export{B as default};
