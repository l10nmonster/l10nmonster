import{u as m,j as e,B as r,F as x,T as t,e as u,S as f}from"./index-7BvmfFYo.js";import{A as g}from"./namespace-DnzAbJc8.js";import{G as j}from"./grid-Ct9nMDCu.js";import{V as h}from"./v-stack-CIRZgxKK.js";import{u as p}from"./useQuery-BJCiEOEF.js";import{f as b}from"./api-lUcpjS_e.js";import{B as a}from"./badge-BwRiDO79.js";const S=({sourceLang:n,targetLang:i,providers:o})=>{const l=m(),c=s=>{switch(s){case"done":return"green";case"pending":return"yellow";case"error":return"red";default:return"gray"}};return e.jsx(r,{p:6,borderWidth:"1px",borderRadius:"lg",bg:"white",shadow:"sm",w:"900px",children:e.jsxs(h,{gap:4,align:"stretch",children:[e.jsx(r,{children:e.jsxs(x,{align:"center",justify:"space-between",mb:2,children:[e.jsxs(x,{align:"center",gap:3,children:[e.jsx(a,{colorPalette:"blue",size:"sm",children:n}),e.jsx(t,{color:"fg.muted",fontSize:"lg",children:"â†’"}),e.jsx(a,{colorPalette:"green",size:"sm",children:i})]}),e.jsx(u,{size:"sm",variant:"outline",onClick:()=>l(`/tm/${n}/${i}`),children:"View"})]})}),e.jsx(h,{gap:3,align:"stretch",children:o.map((s,d)=>e.jsx(r,{p:3,borderWidth:"1px",borderRadius:"md",borderColor:"border.default",bg:"yellow.subtle",children:e.jsxs(j,{templateColumns:"2fr 80px 80px 80px 80px",gap:4,alignItems:"center",children:[e.jsxs(r,{children:[e.jsx(t,{fontSize:"xs",color:"fg.muted",mb:1,children:"Provider"}),e.jsx(t,{fontSize:"sm",fontWeight:"semibold",children:s.translationProvider})]}),e.jsxs(r,{textAlign:"center",children:[e.jsx(t,{fontSize:"xs",color:"fg.muted",mb:1,children:"Status"}),e.jsx(a,{colorPalette:c(s.status),size:"sm",children:s.status})]}),e.jsxs(r,{textAlign:"center",children:[e.jsx(t,{fontSize:"xs",color:"fg.muted",mb:1,children:"TUs"}),e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"purple.600",children:s.tuCount.toLocaleString()})]}),e.jsxs(r,{textAlign:"center",children:[e.jsx(t,{fontSize:"xs",color:"fg.muted",mb:1,children:"Unique"}),e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"orange.600",children:s.distinctGuids.toLocaleString()})]}),e.jsxs(r,{textAlign:"center",children:[e.jsx(t,{fontSize:"xs",color:"fg.muted",mb:1,children:"Jobs"}),e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"teal.600",children:s.jobCount.toLocaleString()})]})]})},d))})]})})},B=()=>{m();const{data:n={},isLoading:i,error:o}=p({queryKey:["tmStats"],queryFn:()=>b("/api/tm/stats")});return i?e.jsx(r,{display:"flex",justifyContent:"center",mt:10,children:e.jsx(f,{size:"xl"})}):o?e.jsx(r,{mt:5,px:6,children:e.jsx(g,{status:"error",children:e.jsxs(r,{children:[e.jsx(t,{fontWeight:"bold",children:"Error"}),e.jsx(t,{children:o})]})})}):e.jsx(r,{py:6,px:6,children:e.jsxs(h,{gap:6,align:"stretch",children:[e.jsxs(r,{textAlign:"center",children:[e.jsx(t,{fontSize:"2xl",fontWeight:"bold",mb:2,children:"Translation Memory Summary"}),e.jsx(t,{color:"fg.muted",children:"Overview of jobs by translation provider for each language pair"})]}),Object.keys(n).length===0?e.jsx(r,{p:6,borderWidth:"1px",borderRadius:"md",bg:"white",textAlign:"center",children:e.jsx(t,{color:"fg.muted",children:"No translation memory data found."})}):e.jsx(x,{justify:"center",w:"100%",children:e.jsx(j,{templateColumns:"repeat(auto-fit, 900px)",gap:6,justifyItems:"center",justifyContent:"center",children:Object.entries(n).flatMap(([l,c])=>Object.entries(c).map(([s,d])=>e.jsx(S,{sourceLang:l,targetLang:s,providers:d},`${l}-${s}`)))})})]})})};export{B as default};
