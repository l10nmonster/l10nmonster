import{r as l,m as x,j as c,l as M,n as $,o as q,p as F,E as D,b as m,d as T,g as Y}from"./index-CE6JgXwC.js";import{c as z}from"./api-CQ_emPlI.js";import{c as j,a as C,e as g,u as B,b as U,d as W,n as _}from"./index-BHll-Wur.js";import{u as P}from"./use-field-context-DPgnX2eS.js";import{u as J}from"./use-presence-context-w7qGDwCc.js";const[w,f]=j({name:"CheckboxContext",hookName:"useCheckboxContext",providerName:"<CheckboxProvider />"}),I=l.forwardRef((r,o)=>{const e=f(),t=x(e.getControlProps(),r);return c.jsx(C.div,{...t,ref:o})});I.displayName="CheckboxControl";function K(r){const{value:o,onChange:e,defaultValue:t}=r,[n,a]=l.useState(t),s=o!==void 0,i=s?o:n,u=l.useCallback(h=>(s||a(h),e?.(h)),[s,e]);return[i,u]}function Q(r={}){const{defaultValue:o,value:e,onValueChange:t,disabled:n,readOnly:a,name:s,invalid:i}=r,u=!(n||a),h=J(t,{sync:!0}),[k,b]=K({value:e,defaultValue:o||[],onChange:h}),p=d=>k.some(v=>String(v)===String(d)),y=d=>{p(d)?H(d):R(d)},R=d=>{u&&(p(d)||b(k.concat(d)))},H=d=>{u&&b(k.filter(v=>String(v)!==String(d)))};return{isChecked:p,value:k,name:s,disabled:!!n,readOnly:!!a,invalid:!!i,setValue:b,addValue:R,toggleValue:y,getItemProps:d=>({checked:d.value!=null?p(d.value):void 0,onCheckedChange(){d.value!=null&&y(d.value)},name:s,disabled:n,readOnly:a,invalid:i})}}const[X,Z]=j({name:"CheckboxGroupContext",hookName:"useCheckboxGroupContext",providerName:"<CheckboxGroupProvider />",strict:!1}),V=l.forwardRef((r,o)=>{const[e,t]=g()(r,["defaultValue","value","onValueChange","disabled","invalid","readOnly","name"]),n=Q(e);return c.jsx(X,{value:n,children:c.jsx(C.div,{ref:o,role:"group",...t,...M.build().group.attrs})})});V.displayName="CheckboxGroup";const N=l.forwardRef((r,o)=>{const e=f(),t=x(e.getHiddenInputProps(),r),n=P();return c.jsx(C.input,{"aria-describedby":n?.ariaDescribedby,...t,ref:o})});N.displayName="CheckboxHiddenInput";const S=l.forwardRef((r,o)=>{const e=f(),t=x(e.getLabelProps(),r);return c.jsx(C.span,{...t,ref:o})});S.displayName="CheckboxLabel";const ee=(r={})=>{const o=Z(),e=P(),t=l.useMemo(()=>x(r,o?.getItemProps({value:r.value})??{}),[r,o]),n=l.useId(),{getRootNode:a}=B(),{dir:s}=U(),i={id:n,ids:{label:e?.ids.label,hiddenInput:e?.ids.control},dir:s,disabled:e?.disabled,readOnly:e?.readOnly,invalid:e?.invalid,required:e?.required,getRootNode:a,...t},u=W(q,i);return $(u,_)},G=l.forwardRef((r,o)=>{const[e,t]=g()(r,["checked","defaultChecked","disabled","form","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]),n=ee(e),a=x(n.getRootProps(),t);return c.jsx(w,{value:n,children:c.jsx(C.label,{...a,ref:o})})});G.displayName="CheckboxRoot";const A=l.forwardRef((r,o)=>{const[{value:e},t]=g()(r,["value"]),n=x(e.getRootProps(),t);return c.jsx(w,{value:e,children:c.jsx(C.label,{...n,ref:o})})});A.displayName="CheckboxRootProvider";const E=l.forwardRef((r,o)=>{const e=P(),t=x(e?.getInputProps(),r);return c.jsx(C.input,{...t,ref:o})});E.displayName="FieldInput";const oe=l.forwardRef(function(o,e){const t=F({key:"checkmark",recipe:o.recipe}),[n,a]=t.splitVariantProps(o),{checked:s,indeterminate:i,disabled:u,unstyled:h,children:k,...b}=a,p=h?D:t(n);return c.jsx(m.svg,{ref:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3px",strokeLinecap:"round",strokeLinejoin:"round","data-state":i?"indeterminate":s?"checked":"unchecked","data-disabled":T(u),css:[p,o.css],...b,children:i?c.jsx("path",{d:"M5 12h14"}):s?c.jsx("polyline",{points:"20 6 9 17 4 12"}):null})}),{withProvider:L,withContext:O,useStyles:te}=z({key:"checkbox"});L(A,"root",{forwardAsChild:!0});const ue=L(G,"root",{forwardAsChild:!0});O(S,"label",{forwardAsChild:!0});const re=l.forwardRef(function(o,e){const{checked:t,indeterminate:n,...a}=o,s=f(),i=te();return t&&s.checked?c.jsx(m.svg,{ref:e,asChild:!0,...a,css:[i.indicator,o.css],children:t}):n&&s.indeterminate?c.jsx(m.svg,{ref:e,asChild:!0,...a,css:[i.indicator,o.css],children:n}):c.jsx(oe,{ref:e,checked:s.checked,indeterminate:s.indeterminate,disabled:s.disabled,unstyled:!0,...a,css:[i.indicator,o.css]})}),he=O(I,"control",{forwardAsChild:!0,defaultProps:{children:c.jsx(re,{})}});m(V,{base:{display:"flex",flexDirection:"column",gap:"1.5"}},{forwardAsChild:!0});const xe=N,{withContext:ne}=Y({key:"input"}),Ce=ne(E);export{ue as C,Ce as I,xe as a,he as b};
