import{j as e,R as ve,B as r,V as $,T as t,a as R,r as C,C as Te,b as Le,F as W,L as V,c as Y,d as D,e as me,f as be,g as _,h as L,i as pe,k as b,M as $e,l as Pe,P as Re,m as Me,n as Ee,o as re,u as G,G as he,p as ke,q as Ie,s as Fe,t as Oe,v as De,w as Se,x as ye,S as Z,I as Be,y as Ne,z as Je,A as Ue,D as fe,E as _e,H as qe,J as He,K as Qe,N as Ge,O as Ke,Q as Ve,U as Ye,W as se,X as oe,Y as ne,Z as le,_ as ie,$ as de,a0 as ae,a1 as ce,a2 as Ze,a3 as Xe}from"./vendor-BVgSJH5C.js";function dt({children:s}){return e.jsx(e.Fragment,{children:s})}class at extends ve.Component{constructor(o){super(o),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(o){return{hasError:!0,error:o}}componentDidCatch(o,d){this.setState({errorInfo:d}),console.error("ErrorBoundary caught an error:",o,d)}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?e.jsx(r,{p:8,maxW:"800px",mx:"auto",mt:10,children:e.jsxs($,{gap:4,align:"stretch",children:[e.jsxs(r,{bg:"red.subtle",borderLeft:"4px",borderLeftColor:"red.500",p:6,borderRadius:"md",children:[e.jsx(t,{fontSize:"lg",fontWeight:"bold",color:"red.700",mb:2,children:"Something went wrong"}),e.jsx(t,{color:"red.600",mb:4,children:this.state.error?.message||"An unexpected error occurred"}),e.jsx(R,{colorPalette:"red",variant:"outline",size:"sm",onClick:this.handleReset,children:"Try Again"})]}),this.state.errorInfo&&e.jsxs(r,{bg:"gray.subtle",p:4,borderRadius:"md",overflow:"auto",maxH:"300px",children:[e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"fg.muted",mb:2,children:"Technical Details"}),e.jsx(t,{as:"pre",fontSize:"xs",fontFamily:"mono",whiteSpace:"pre-wrap",color:"fg.muted",children:this.state.errorInfo.componentStack})]})]})}):this.props.children}}async function K(s,o={}){try{const d=await fetch(s,o);if(!d.ok){let n;try{n=await d.json()}catch{}const c=n?.message||`HTTP error! status: ${d.status}`,x=new Error(c);throw x.status=d.status,x.response=d,x}return await d.json()}catch(d){if(console.error("API Fetch Error:",d),d.status||d.response)throw d;const n=new Error(d.message||"Network error");throw n.originalError=d,n}}const we=({error:s,fallbackMessage:o="An unexpected error occurred",title:d})=>{const n=s?.message?.includes("Failed to fetch")||s?.message?.includes("Network");return e.jsxs(r,{p:4,bg:"red.100",borderRadius:"md",borderWidth:"1px",borderColor:"red.300",children:[e.jsx(t,{fontWeight:"bold",color:"red.700",mb:2,children:d||(n?"Connection Error":"Error")}),e.jsx(t,{color:"red.600",children:n?"Unable to connect to the server. Please check that the L10n Monster server is running.":s?.message||o})]})},ct=({project:s,channelId:o,sourceLang:d,targetLang:n})=>{const[c,x]=C.useState(!1),[g,z]=C.useState(!1),{projectName:y,pairSummaryByStatus:a,translatedDetails:l,untranslatedDetails:h}=s,j={translated:a?.translated||0,"in flight":a?.["in flight"]||0,"low quality":a?.["low quality"]||0,untranslated:a?.untranslated||0},m=Object.values(j).reduce((u,v)=>u+v,0),f=m>0?Math.round(j.translated/m*100):0,S=m>0?Math.round(j["in flight"]/m*100):0,A=m>0?Math.round(j["low quality"]/m*100):0,w=m>0?Math.round(j.untranslated/m*100):0,I=o&&d&&n?`/status/${o}/${d}/${n}?prj=${encodeURIComponent(y)}`:null,M=[];l?.forEach((u,v)=>{const J=u.q===0?"in flight":u.q>=u.minQ?"translated":"low quality",k=J==="translated"?"green.solid":J==="in flight"?"blue.solid":"yellow.solid";M.push({key:`translated-${v}`,status:J,statusColor:k,group:null,q:u.q,minQ:u.minQ,res:u.res,seg:u.seg,words:u.words,chars:u.chars})});const P=[];Object.entries(h||{}).forEach(([u,v])=>{const J=u==="null"?"(no group)":u;v.forEach((k,X)=>{P.push({key:`untranslated-${u}-${X}`,group:J,minQ:k.minQ,res:k.res,seg:k.seg,words:k.words,chars:k.chars})})});const E=M.length>0,F=P.length>0,B=M.reduce((u,v)=>({seg:u.seg+(v.seg||0),words:u.words+(v.words||0),chars:u.chars+(v.chars||0)}),{seg:0,words:0,chars:0}),N=P.reduce((u,v)=>({seg:u.seg+(v.seg||0),words:u.words+(v.words||0),chars:u.chars+(v.chars||0)}),{seg:0,words:0,chars:0});return e.jsx(Te,{variant:"outline",bg:"yellow.subtle",children:e.jsxs(Le,{children:[e.jsxs(W,{align:"center",justify:"space-between",gap:2,mb:2,children:[I?e.jsx(V,{as:Y,to:I,fontSize:"sm",fontWeight:"semibold",color:"purple.600",_hover:{textDecoration:"underline"},children:y}):e.jsx(t,{fontSize:"sm",fontWeight:"semibold",children:y}),j.untranslated>0&&e.jsxs(D,{variant:"solid",colorPalette:"red",size:"sm",children:[j.untranslated.toLocaleString()," untranslated"]})]}),e.jsx(r,{mb:3,children:e.jsxs(W,{align:"center",gap:2,mb:1,children:[e.jsxs(r,{flex:"1",bg:"bg.muted",rounded:"full",height:"10px",position:"relative",overflow:"hidden",children:[e.jsx(r,{position:"absolute",top:"0",left:"0",height:"100%",width:`${f}%`,bg:"green.solid",transition:"width 0.3s ease"}),e.jsx(r,{position:"absolute",top:"0",left:`${f}%`,height:"100%",width:`${S}%`,bg:"blue.solid",transition:"width 0.3s ease"}),e.jsx(r,{position:"absolute",top:"0",left:`${f+S}%`,height:"100%",width:`${A}%`,bg:"yellow.solid",transition:"width 0.3s ease"}),e.jsx(r,{position:"absolute",top:"0",left:`${f+S+A}%`,height:"100%",width:`${w}%`,bg:"red.solid",transition:"width 0.3s ease"})]}),e.jsxs(t,{fontSize:"sm",color:"fg.muted",minW:"45px",children:[f,"%"]})]})}),e.jsx(r,{overflow:"auto",children:e.jsxs(me,{size:"sm",variant:"line",children:[e.jsx(be,{children:e.jsxs(_,{bg:"yellow.100",children:[e.jsx(L,{}),e.jsx(L,{textAlign:"right",children:"Min Q"}),e.jsx(L,{textAlign:"right",children:"Res"}),e.jsx(L,{textAlign:"right",children:"Strings"}),e.jsx(L,{textAlign:"right",children:"Words"}),e.jsx(L,{textAlign:"right",children:"Chars"})]})}),e.jsxs(pe,{children:[e.jsxs(_,{bg:"green.subtle",cursor:E?"pointer":"default",onClick:()=>E&&x(!c),_hover:E?{bg:"green.100"}:{},children:[e.jsx(b,{children:e.jsxs(W,{align:"center",gap:2,children:[E&&e.jsx(t,{fontSize:"xs",color:"green.700",children:c?"▼":"▶"}),e.jsx(t,{fontSize:"xs",fontWeight:"semibold",color:"green.700",children:"Translated"})]})}),e.jsx(b,{}),e.jsx(b,{}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",fontWeight:"medium",color:"green.700",children:B.seg.toLocaleString()})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",fontWeight:"medium",color:"green.700",children:B.words.toLocaleString()})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",fontWeight:"medium",color:"green.700",children:B.chars.toLocaleString()})})]}),c&&M.map(u=>e.jsxs(_,{bg:"green.50",children:[e.jsx(b,{pl:8,children:e.jsxs(t,{fontSize:"xs",color:"fg.muted",children:["Quality ",u.q]})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",color:"fg.muted",children:u.minQ})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",color:"fg.muted",children:u.res?.toLocaleString()||"—"})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",color:"fg.muted",children:u.seg?.toLocaleString()})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",color:"fg.muted",children:u.words?.toLocaleString()})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",color:"fg.muted",children:u.chars?.toLocaleString()})})]},u.key)),N.seg>0&&e.jsxs(_,{bg:"red.subtle",cursor:F?"pointer":"default",onClick:()=>F&&z(!g),_hover:F?{bg:"red.100"}:{},children:[e.jsx(b,{children:e.jsxs(W,{align:"center",gap:2,children:[F&&e.jsx(t,{fontSize:"xs",color:"red.700",children:g?"▼":"▶"}),e.jsx(t,{fontSize:"xs",fontWeight:"semibold",color:"red.700",children:"Untranslated"})]})}),e.jsx(b,{}),e.jsx(b,{}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",fontWeight:"medium",color:"red.700",children:N.seg.toLocaleString()})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",fontWeight:"medium",color:"red.700",children:N.words.toLocaleString()})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",fontWeight:"medium",color:"red.700",children:N.chars.toLocaleString()})})]}),g&&P.map(u=>e.jsxs(_,{bg:"red.50",children:[e.jsx(b,{pl:8,children:e.jsx(t,{fontSize:"xs",color:"fg.muted",children:u.group})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",color:"fg.muted",children:u.minQ})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",color:"fg.muted",children:u.res?.toLocaleString()||"—"})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",color:"fg.muted",children:u.seg?.toLocaleString()})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",color:"fg.muted",children:u.words?.toLocaleString()})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",color:"fg.muted",children:u.chars?.toLocaleString()})})]},u.key))]})]})})]})})},ht=({value:s=[],onChange:o,options:d=[],placeholder:n,disabled:c,sortNumeric:x=!1})=>{const g=s.length,z=g===0?n:g===1?s[0]:`${g} selected`,y=m=>{const f=String(m);s.includes(f)?o(s.filter(S=>S!==f)):o([...s,f])},a=m=>{m.stopPropagation(),o([])},l=m=>{m.stopPropagation(),o(d.map(f=>String(f)))},h=g===d.length,j=g>0&&g<d.length;return!d||d.length===0?e.jsx(r,{fontSize:"xs",px:2,py:1,bg:"gray.subtle",borderRadius:"sm",color:"fg.muted",children:"No options"}):e.jsxs($e,{closeOnSelect:!1,children:[e.jsx(Pe,{asChild:!0,children:e.jsx(R,{size:"xs",variant:"outline",bg:"yellow.subtle",borderColor:"border.default",fontWeight:"normal",w:"100%",justifyContent:"space-between",_hover:{bg:"yellow.muted"},disabled:c,children:e.jsxs(W,{align:"center",justify:"space-between",w:"100%",gap:1,children:[e.jsx(t,{fontSize:"xs",color:g>0?"fg.default":"fg.muted",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:z}),e.jsx(t,{fontSize:"xs",color:"fg.muted",children:"▼"})]})})}),e.jsx(Re,{children:e.jsx(Me,{children:e.jsxs(Ee,{minW:"150px",maxH:"250px",overflow:"auto",bg:"white",borderWidth:"1px",borderColor:"border.default",borderRadius:"md",shadow:"lg",zIndex:1e3,children:[d.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(re,{value:"__select_all__",onClick:h?a:l,fontSize:"xs",children:e.jsxs(W,{align:"center",gap:2,children:[e.jsxs(r,{w:"14px",h:"14px",borderWidth:"1px",borderColor:g>0?"blue.500":"gray.300",borderRadius:"sm",bg:g>0?"blue.500":"white",display:"flex",alignItems:"center",justifyContent:"center",children:[h&&e.jsx(t,{color:"white",fontSize:"10px",lineHeight:"1",children:"✓"}),j&&e.jsx(t,{color:"white",fontSize:"10px",lineHeight:"1",children:"−"})]}),e.jsx(t,{children:"Select All"})]})}),g>0&&e.jsxs(re,{value:"__clear_all__",onClick:a,fontSize:"xs",color:"red.500",children:["Clear All (",g,")"]}),e.jsx(r,{h:"1px",bg:"gray.200",my:1})]}),d.slice().sort((m,f)=>x?Number(m)-Number(f):String(m).localeCompare(String(f))).map(m=>{const f=String(m),S=s.includes(f);return e.jsx(re,{value:f,onClick:()=>y(f),fontSize:"xs",children:e.jsxs(W,{align:"center",gap:2,children:[e.jsx(r,{w:"14px",h:"14px",borderWidth:"1px",borderColor:S?"blue.500":"gray.300",borderRadius:"sm",bg:S?"blue.500":"white",display:"flex",alignItems:"center",justifyContent:"center",children:S&&e.jsx(t,{color:"white",fontSize:"10px",lineHeight:"1",children:"✓"})}),e.jsx(t,{children:f})]})},f)})]})})})]})},xt=({item:s,channelId:o})=>{const[d,n]=C.useState(!1),c=s.prj??"default",{data:x,isLoading:g}=G({queryKey:["status",o],queryFn:()=>K(`/api/status/${o}`),enabled:d}),z=C.useMemo(()=>{if(!x)return null;const l=[];return Object.entries(x).forEach(([h,j])=>{Object.entries(j).forEach(([m,f])=>{if(f[c]){const A=f[c].pairSummaryByStatus||{},w=Object.values(A).reduce((F,B)=>F+B,0),I=A.translated||0,M=A["in flight"]||0,P=A["low quality"]||0,E=A.untranslated||0;l.push({sourceLang:h,targetLang:m,totalSegs:w,translated:I,inFlight:M,lowQuality:P,untranslated:E,pctTranslated:w>0?Math.round(I/w*100):0,pctInFlight:w>0?Math.round(M/w*100):0,pctLowQuality:w>0?Math.round(P/w*100):0,pctUntranslated:w>0?Math.round(E/w*100):0})}})}),l},[x,c]),y=l=>{const h=new Date,j=new Date(l),m=h-j,f=Math.floor(m/1e3),S=new Intl.RelativeTimeFormat("en",{numeric:"auto",style:"short"});return f<60?S.format(-f,"second"):f<3600?S.format(-Math.floor(f/60),"minute"):f<86400?S.format(-Math.floor(f/3600),"hour"):f<2592e3?S.format(-Math.floor(f/86400),"day"):f<31536e3?S.format(-Math.floor(f/2592e3),"month"):S.format(-Math.floor(f/31536e3),"year")},a=l=>new Date(l).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"});return e.jsxs(r,{p:3,borderWidth:"1px",borderRadius:"md",borderColor:"border.default",bg:"yellow.subtle",w:"100%",children:[e.jsxs(he,{templateColumns:"30px 2fr 80px 3fr 80px 80px 100px",gap:4,alignItems:"center",children:[e.jsx(r,{cursor:"pointer",onClick:()=>n(!d),_hover:{bg:"yellow.100"},borderRadius:"sm",textAlign:"center",children:e.jsx(t,{fontSize:"md",color:"purple.600",children:d?"▼":"▶"})}),e.jsxs(r,{children:[e.jsx(t,{fontSize:"xs",color:"fg.muted",mb:1,children:"Project"}),e.jsx(V,{as:Y,to:`/sources/${o}/${c}`,fontSize:"sm",fontWeight:"semibold",color:"blue.600",_hover:{textDecoration:"underline"},children:c})]}),e.jsxs(r,{children:[e.jsx(t,{fontSize:"xs",color:"fg.muted",mb:1,children:"Source"}),e.jsx(D,{colorPalette:"blue",size:"sm",children:s.sourceLang})]}),e.jsxs(r,{children:[e.jsxs(t,{fontSize:"xs",color:"fg.muted",mb:1,children:["Targets (",s.targetLangs.length,")"]}),e.jsx(W,{wrap:"wrap",gap:1,children:s.targetLangs.map(l=>e.jsx(D,{colorPalette:"green",size:"sm",children:l},l))})]}),e.jsxs(r,{textAlign:"center",children:[e.jsx(t,{fontSize:"xs",color:"fg.muted",mb:1,children:"Resources"}),e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"orange.600",children:s.resCount.toLocaleString()})]}),e.jsxs(r,{textAlign:"center",children:[e.jsx(t,{fontSize:"xs",color:"fg.muted",mb:1,children:"Segments"}),e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"purple.600",children:s.segmentCount.toLocaleString()})]}),e.jsxs(r,{textAlign:"center",children:[e.jsx(t,{fontSize:"xs",color:"fg.muted",mb:1,children:"Modified"}),e.jsxs(ke,{children:[e.jsx(Ie,{asChild:!0,children:e.jsx(t,{fontSize:"xs",color:"fg.muted",cursor:"help",children:y(s.lastModified)})}),e.jsx(Fe,{children:e.jsxs(Oe,{children:[e.jsx(De,{}),e.jsx(t,{fontSize:"sm",children:a(s.lastModified)})]})})]})]})]}),e.jsx(Se,{open:d,children:e.jsx(ye,{children:e.jsx(r,{mt:3,pt:3,borderTop:"1px",borderColor:"yellow.300",children:g?e.jsxs(W,{justify:"center",py:4,children:[e.jsx(Z,{size:"sm"}),e.jsx(t,{ml:2,fontSize:"sm",color:"fg.muted",children:"Loading translation status..."})]}):z&&z.length>0?e.jsx(r,{overflow:"auto",children:e.jsxs(me,{size:"sm",variant:"line",children:[e.jsx(be,{children:e.jsxs(_,{bg:"purple.50",children:[e.jsx(L,{children:"Language Pair"}),e.jsx(L,{textAlign:"center",children:"Progress"}),e.jsx(L,{textAlign:"right",children:"Translated"}),e.jsx(L,{textAlign:"right",children:"In Flight"}),e.jsx(L,{textAlign:"right",children:"Low Q"}),e.jsx(L,{textAlign:"right",children:"Untranslated"}),e.jsx(L,{textAlign:"right",children:"Total"})]})}),e.jsx(pe,{children:z.map(l=>e.jsxs(_,{bg:"white",children:[e.jsx(b,{children:e.jsxs(V,{as:Y,to:`/status/${o}/${l.sourceLang}/${l.targetLang}?prj=${encodeURIComponent(c)}`,fontSize:"xs",fontWeight:"medium",color:"purple.600",_hover:{textDecoration:"underline"},children:[l.sourceLang," → ",l.targetLang]})}),e.jsx(b,{children:e.jsxs(W,{align:"center",gap:2,children:[e.jsxs(r,{flex:"1",minW:"80px",bg:"bg.muted",rounded:"full",height:"8px",position:"relative",overflow:"hidden",children:[e.jsx(r,{position:"absolute",top:"0",left:"0",height:"100%",width:`${l.pctTranslated}%`,bg:"green.solid"}),e.jsx(r,{position:"absolute",top:"0",left:`${l.pctTranslated}%`,height:"100%",width:`${l.pctInFlight}%`,bg:"blue.solid"}),e.jsx(r,{position:"absolute",top:"0",left:`${l.pctTranslated+l.pctInFlight}%`,height:"100%",width:`${l.pctLowQuality}%`,bg:"yellow.solid"}),e.jsx(r,{position:"absolute",top:"0",left:`${l.pctTranslated+l.pctInFlight+l.pctLowQuality}%`,height:"100%",width:`${l.pctUntranslated}%`,bg:"red.solid"})]}),e.jsxs(t,{fontSize:"xs",color:"fg.muted",minW:"35px",textAlign:"right",children:[l.pctTranslated,"%"]})]})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",color:"green.600",fontWeight:"medium",children:l.translated.toLocaleString()})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",color:l.inFlight>0?"blue.600":"fg.muted",children:l.inFlight.toLocaleString()})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",color:l.lowQuality>0?"yellow.600":"fg.muted",children:l.lowQuality.toLocaleString()})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",color:l.untranslated>0?"red.600":"fg.muted",fontWeight:l.untranslated>0?"medium":"normal",children:l.untranslated.toLocaleString()})}),e.jsx(b,{textAlign:"right",children:e.jsx(t,{fontSize:"xs",color:"fg.muted",children:l.totalSegs.toLocaleString()})})]},`${l.sourceLang}-${l.targetLang}`))})]})}):e.jsx(t,{fontSize:"sm",color:"fg.muted",textAlign:"center",py:2,children:"No translation status available"})})})})]})},et=(s,o)=>s?{snapText:`Snapped on ${new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}`,importText:o?{text:"Imported from snap store ",store:o}:null}:{snapText:"Never snapped",importText:null},gt=({channelId:s,project:o,resource:d,onBackClick:n,backLabel:c="Back",snapTimestamp:x,snapStore:g,showSnapInfo:z=!1,extraContent:y=null})=>e.jsxs(r,{p:6,borderWidth:"2px",borderRadius:"lg",bg:"white",borderColor:"green.200",mb:6,children:[e.jsxs(r,{display:"flex",alignItems:"center",gap:3,flexWrap:"wrap",pb:4,borderBottom:"2px",borderColor:"green.100",children:[n&&e.jsx(Be,{"aria-label":c,onClick:n,variant:"ghost",size:"sm",children:"←"}),e.jsxs(r,{children:[e.jsx(t,{fontSize:"sm",color:"fg.muted",mb:1,children:"Channel"}),e.jsx(t,{fontSize:"lg",fontWeight:"bold",color:"green.600",children:s})]}),o&&e.jsxs(r,{children:[e.jsx(t,{fontSize:"sm",color:"fg.muted",mb:1,children:"Project"}),e.jsx(t,{fontSize:"lg",fontWeight:"semibold",color:"blue.600",children:o})]}),d&&e.jsxs(r,{flex:"1",children:[e.jsx(t,{fontSize:"sm",color:"fg.muted",mb:1,children:"Resource"}),e.jsx(t,{fontSize:"lg",fontWeight:"semibold",color:"purple.600",wordBreak:"break-all",children:d})]}),z&&!o&&!d&&e.jsx(r,{flex:"1",textAlign:"right",children:(()=>{const{snapText:a,importText:l}=et(x,g);return e.jsxs(e.Fragment,{children:[e.jsx(t,{fontSize:"sm",color:"fg.muted",children:a}),l&&e.jsxs(t,{fontSize:"sm",color:"fg.muted",children:[l.text,e.jsx(t,{as:"span",fontWeight:"bold",color:"blue.600",children:l.store})]})]})})()})]}),y&&e.jsx(r,{mt:6,children:y})]});function je(s){if(!s)return null;const o=/(https:\/\/[^\s]+)/g;return s.split(o).map((n,c)=>n.match(o)?e.jsx(t,{as:"a",href:n,target:"_blank",rel:"noopener noreferrer",color:"blue.600",textDecoration:"underline",_hover:{color:"blue.800"},children:n},`link-${c}`):n)}const ze="tmCart",tt=()=>{const s=sessionStorage.getItem(ze);return s?JSON.parse(s):{}},rt=s=>{sessionStorage.setItem(ze,JSON.stringify(s)),window.dispatchEvent(new Event("cartUpdated"))},st=(s,o,d,n=null)=>({guid:s.guid,channel:n||s.channel,sourceLang:o,targetLang:d,nsrc:s.nsrc,ntgt:s.ntgt}),Ce=(s,o,d,n=null)=>{const c=tt(),x=`${s}|${o}`;c[x]||(c[x]={sourceLang:s,targetLang:o,tus:[]});const g=d.map(z=>st(z,s,o,n));c[x].tus.push(...g),rt(c)},ut=Ce,ft=(s,o,d,n)=>{Ce(s,o,n,d)},ot=()=>e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})}),nt=()=>e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"})}),jt=({onSelect:s,currentPair:o,triggerContent:d,rightContent:n,defaultOpen:c=!1})=>{const[x,g]=C.useState(c),{data:z=[]}=G({queryKey:["tmStats"],queryFn:()=>K("/api/tm/stats")}),y=C.useMemo(()=>z.map(([j,m])=>({value:`${j}|${m}`,label:`${j} → ${m}`,sourceLang:j,targetLang:m})).sort((j,m)=>j.label.localeCompare(m.label)),[z]),a=h=>{if(h&&s){const[j,m]=h.split("|");s(j,m),g(!1)}},l=h=>o&&h.sourceLang===o.sourceLang&&h.targetLang===o.targetLang;return y.length===0?null:e.jsx(r,{bg:"blue.subtle",borderBottom:"1px",borderColor:"blue.muted",shadow:"md",borderLeft:"4px",borderLeftColor:"blue.500",children:e.jsxs(Se,{open:x,onOpenChange:h=>g(h.open),children:[e.jsx(r,{px:6,py:4,children:e.jsxs(W,{align:"center",justify:"space-between",children:[e.jsxs(Ne,{as:R,variant:"ghost",size:"md",justifyContent:"flex-start",_hover:{bg:"blue.muted"},bg:"transparent",gap:2,children:[d||e.jsxs(W,{align:"center",gap:3,children:[e.jsx(t,{fontSize:"md",fontWeight:"semibold",color:"blue.700",children:"Language Pairs"}),e.jsx(D,{colorPalette:"blue",variant:"subtle",size:"sm",children:y.length})]}),e.jsx(r,{color:"blue.600",children:x?e.jsx(nt,{}):e.jsx(ot,{})})]}),n&&e.jsx(W,{align:"center",gap:3,children:n})]})}),e.jsx(ye,{children:e.jsx(r,{px:6,pb:4,children:e.jsx(Je,{columns:{base:1,sm:2,md:3,lg:4,xl:5},gap:2,children:y.map(h=>e.jsx(R,{variant:"outline",size:"sm",onClick:()=>a(h.value),_hover:{bg:"blue.100",borderColor:"blue.400"},justifyContent:"flex-start",bg:l(h)?"blue.100":"white",borderColor:l(h)?"blue.400":"blue.200",borderWidth:l(h)?"2px":"1px",children:e.jsx(t,{fontSize:"xs",color:"blue.700",children:h.label})},h.value))})})})]})})},lt=({sourceLang:s,targetLang:o,providers:d,headerAction:n})=>{Ue();const c=x=>{switch(x){case"done":return"green";case"pending":return"yellow";case"error":return"red";default:return"gray"}};return e.jsx(r,{p:6,borderWidth:"1px",borderRadius:"lg",bg:"white",shadow:"sm",w:"100%",children:e.jsxs($,{gap:4,align:"stretch",children:[e.jsxs(W,{justify:"space-between",align:"center",children:[e.jsxs(t,{fontSize:"lg",fontWeight:"bold",children:["Provider Breakdown: ",s," → ",o]}),n]}),e.jsx($,{gap:3,align:"stretch",children:d.map((x,g)=>e.jsx(r,{p:3,borderWidth:"1px",borderRadius:"md",borderColor:"border.default",bg:"yellow.subtle",children:e.jsxs(he,{templateColumns:{base:"minmax(0, 2fr) 1fr 1fr 1fr 1fr",md:"minmax(0, 3fr) 1fr 1fr 1fr 1fr"},gap:{base:1,md:2},alignItems:"center",overflow:"hidden",minWidth:"0",children:[e.jsxs(r,{minWidth:"0",overflow:"hidden",children:[e.jsx(t,{fontSize:"xs",color:"fg.muted",mb:1,children:"Provider"}),e.jsx(V,{as:Y,to:`/tm/${s}/${o}?translationProvider=${encodeURIComponent(x.translationProvider)}`,fontSize:"sm",fontWeight:"semibold",color:"blue.600",_hover:{textDecoration:"underline",color:"blue.700"},noOfLines:1,title:x.translationProvider,children:x.translationProvider})]}),e.jsxs(r,{textAlign:"center",children:[e.jsx(t,{fontSize:"xs",color:"fg.muted",mb:1,children:"Status"}),e.jsx(D,{colorPalette:c(x.status),size:"sm",children:x.status})]}),e.jsxs(r,{textAlign:"center",children:[e.jsx(t,{fontSize:"xs",color:"fg.muted",mb:1,children:"TUs"}),e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"purple.600",children:x.tuCount.toLocaleString()})]}),e.jsxs(r,{textAlign:"center",children:[e.jsx(t,{fontSize:"xs",color:"fg.muted",mb:1,children:"Unique"}),e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"orange.600",children:x.distinctGuids.toLocaleString()})]}),e.jsxs(r,{textAlign:"center",children:[e.jsx(t,{fontSize:"xs",color:"fg.muted",mb:1,children:"Jobs"}),e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"teal.600",children:x.jobCount.toLocaleString()})]})]})},g))})]})})},mt=({sourceLang:s,targetLang:o,headerAction:d})=>{const[n,c]=C.useState(!1),x=C.useRef(null);C.useEffect(()=>{const a=new IntersectionObserver(l=>{l.forEach(h=>{h.isIntersecting&&(c(!0),a.disconnect())})},{rootMargin:"200px",threshold:0});return x.current&&a.observe(x.current),()=>a.disconnect()},[]);const{data:g,isLoading:z,error:y}=G({queryKey:["tmStats",s,o],queryFn:()=>K(`/api/tm/stats/${s}/${o}`),enabled:n});return e.jsx(r,{ref:x,minH:"200px",children:y?e.jsx(we,{error:y,title:`Error loading ${s} → ${o}`}):z?e.jsx(r,{display:"flex",justifyContent:"center",alignItems:"center",minH:"200px",p:6,borderWidth:"1px",borderRadius:"lg",bg:"white",shadow:"sm",children:e.jsx(Z,{size:"md"})}):g?e.jsx(lt,{sourceLang:s,targetLang:o,providers:g,headerAction:d}):n?e.jsx(r,{display:"flex",justifyContent:"center",alignItems:"center",minH:"200px",p:6,borderWidth:"1px",borderRadius:"lg",bg:"white",shadow:"sm",children:e.jsx(t,{color:"fg.muted",children:"No data available"})}):e.jsx(r,{display:"flex",justifyContent:"center",alignItems:"center",minH:"200px",p:6,borderWidth:"1px",borderRadius:"lg",bg:"gray.50",shadow:"sm",children:e.jsx(t,{color:"fg.muted",fontSize:"sm",children:"Scroll down to load..."})})})},bt=({providers:s,selectedProvider:o,onProviderSelect:d})=>{const n=Array.isArray(s)?s:[];return e.jsxs(r,{width:"25%",flexShrink:0,borderRight:"1px",borderColor:"border.default",p:4,bg:"yellow.subtle",minH:"70vh",children:[e.jsx(t,{fontSize:"lg",fontWeight:"bold",mb:4,children:"Providers"}),e.jsxs($,{gap:2,align:"stretch",children:[n.map(c=>{const x=typeof c=="object"&&c?.id?c.id:c,g=typeof c=="object"&&c?.id?c.id:c,z=typeof c=="object"&&c?.type?c.type:null;return e.jsxs(r,{p:3,borderRadius:"md",cursor:"pointer",bg:o===g?"blue.subtle":"white",borderWidth:"1px",borderColor:o===g?"blue.600":"border.default",_hover:{bg:o===g?"blue.subtle":"gray.subtle"},onClick:()=>d(g),children:[e.jsx(t,{fontSize:"sm",fontWeight:"medium",noOfLines:2,children:x}),z&&e.jsx(t,{fontSize:"xs",color:"fg.muted",mt:1,children:z})]},g)}),n.length===0&&e.jsx(t,{color:"fg.muted",fontSize:"sm",textAlign:"center",mt:4,children:"No providers found"})]})]})},pt=({providerId:s})=>{const{data:o,isLoading:d,error:n}=G({queryKey:["provider",s],queryFn:()=>K(`/api/providers/${s}`),enabled:!!s});if(!s)return e.jsx(r,{width:"75%",p:6,textAlign:"center",children:e.jsx(t,{color:"fg.muted",children:"Select a provider to view details"})});if(d)return e.jsx(r,{width:"75%",p:6,display:"flex",justifyContent:"center",alignItems:"center",children:e.jsx(Z,{size:"lg"})});if(n)return e.jsx(r,{width:"75%",p:6,children:e.jsx(we,{error:n,fallbackMessage:"Failed to fetch provider details"})});if(!o)return e.jsx(r,{width:"75%",p:6,textAlign:"center",children:e.jsx(t,{color:"fg.muted",children:"Provider not found"})});const{info:c,properties:x}=o,g=a=>{if(!a)return a;const l={31:"#ef4444",32:"#22c55e",33:"#eab308",34:"#3b82f6",35:"#a855f7",36:"#06b6d4",39:"inherit"},h=[];let j=0,m="inherit";const f=/\u001B\[([0-9;]*)m/g;let S;for(;(S=f.exec(a))!==null;){if(S.index>j){const w=a.slice(j,S.index);h.push(e.jsx("span",{style:{color:m},children:w},`${j}-text`))}const A=S[1];l[A]&&(m=l[A]),j=S.index+S[0].length}if(j<a.length){const A=a.slice(j);h.push(e.jsx("span",{style:{color:m},children:A},`${j}-text`))}return h.length>0?h:a},z=a=>Array.isArray(a)?a.map((l,h)=>e.jsxs(r,{display:"flex",alignItems:"flex-start",gap:2,children:[e.jsx(t,{fontSize:"sm",color:"fg.muted",mt:"1px",children:"•"}),e.jsx(t,{fontSize:"sm",flex:"1",children:g(l)})]},h)):e.jsx(t,{fontSize:"sm",children:g(a)}),y=a=>typeof a=="object"&&a!==null?!Array.isArray(a)&&Object.values(a).every(h=>typeof h=="string")&&Object.keys(a).length>0?e.jsx(r,{borderWidth:"1px",borderRadius:"md",overflow:"hidden",bg:"white",shadow:"sm",children:e.jsxs(r,{as:"table",w:"100%",fontSize:"sm",children:[e.jsx(r,{as:"thead",bg:"blue.subtle",borderBottom:"1px",borderColor:"border.default",children:e.jsxs(r,{as:"tr",children:[e.jsx(r,{as:"th",p:2,textAlign:"left",fontWeight:"semibold",color:"blue.600",children:"Key"}),e.jsx(r,{as:"th",p:2,textAlign:"left",fontWeight:"semibold",color:"blue.600",children:"Value"})]})}),e.jsx(r,{as:"tbody",children:Object.entries(a).sort(([h],[j])=>h.localeCompare(j)).map(([h,j])=>e.jsxs(r,{as:"tr",_hover:{bg:"gray.subtle"},children:[e.jsx(r,{as:"td",p:2,borderBottom:"1px",borderColor:"border.subtle",fontFamily:"mono",fontSize:"xs",children:h}),e.jsx(r,{as:"td",p:2,borderBottom:"1px",borderColor:"border.subtle",fontSize:"xs",children:j})]},h))})]})}):e.jsx(r,{as:"pre",fontSize:"xs",bg:"bg.muted",p:2,borderRadius:"md",overflow:"auto",maxH:"200px",children:JSON.stringify(a,null,2)}):e.jsx(t,{fontSize:"sm",children:String(a)});return e.jsx(r,{width:"75%",p:6,overflow:"auto",children:e.jsxs($,{gap:6,align:"stretch",children:[e.jsx(r,{children:e.jsx(t,{fontSize:"2xl",fontWeight:"bold",mb:2,children:s})}),e.jsxs(r,{p:4,borderWidth:"1px",borderRadius:"lg",bg:"white",shadow:"sm",children:[e.jsx(t,{fontSize:"lg",fontWeight:"semibold",mb:4,children:"Properties"}),Object.keys(x).length===0?e.jsx(t,{color:"fg.muted",fontSize:"sm",children:"No properties available"}):e.jsx($,{gap:4,align:"stretch",children:Object.entries(x).sort(([a],[l])=>a.localeCompare(l)).map(([a,l])=>e.jsxs(r,{children:[e.jsxs(t,{fontSize:"sm",fontWeight:"bold",color:"blue.600",mb:2,children:[a,":"]}),e.jsx(r,{pl:4,children:y(l)})]},a))})]}),e.jsxs(r,{p:4,borderWidth:"1px",borderRadius:"lg",bg:"white",shadow:"sm",children:[e.jsx(t,{fontSize:"lg",fontWeight:"semibold",mb:4,children:"Information"}),e.jsxs(he,{templateColumns:"auto 1fr",gap:3,alignItems:"start",children:[e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"Type:"}),e.jsx(D,{colorPalette:"blue",size:"sm",children:c.type}),e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"Cost per Word:"}),e.jsx(t,{fontSize:"sm",children:c.costPerWord}),e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"Cost per MChar:"}),e.jsx(t,{fontSize:"sm",children:c.costPerMChar}),c.description&&e.jsxs(e.Fragment,{children:[e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"Description:"}),e.jsx(r,{children:z(c.description)})]})]})]})]})})},St=({langPairKey:s,tus:o,onRemoveTU:d})=>{const[n,c]=C.useState(""),[x,g]=C.useState(!1),[z,y]=C.useState(!1),[a,l]=C.useState(null),[h,j]=C.useState(""),[m,f]=C.useState(""),[S,A]=C.useState(""),[w,I]=C.useState(null),[M,P]=C.useState(!1),{data:E={},isLoading:F}=G({queryKey:["info"],queryFn:()=>K("/api/info")}),B=E.providers||[],N=fe({mutationFn:async({sourceLang:i,targetLang:p,guids:T,provider:O})=>{const U=await fetch("/api/dispatcher/estimateJob",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sourceLang:i,targetLang:p,guids:T,provider:O})});if(!U.ok){const ee=await U.json();throw new Error(ee.message||"Failed to estimate job")}return U.json()}}),u=fe({mutationFn:async({sourceLang:i,targetLang:p,guids:T,provider:O,jobName:U,instructions:ee})=>{const te=await fetch("/api/dispatcher/startJob",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sourceLang:i,targetLang:p,guids:T,provider:O,jobName:U,instructions:ee})});if(!te.ok){const Ae=await te.json();throw new Error(Ae.message||"Failed to start job")}return te.json()}});function v(i){return i.map(p=>typeof p=="string"?p:`{{${p.t}}}`).join("")}const J=async()=>{if(!n){alert("Please select a provider first");return}const i=Array.isArray(o)?o:o.tus,p=typeof n=="object"&&n?.id?n.id:n;try{const T=i.map(U=>U.guid),O=await N.mutateAsync({sourceLang:H,targetLang:Q,guids:T,provider:p});O?(l(O),j(""),f(""),g(!0)):(A(`Provider "${p}" did not accept any of the selected translation units.`),y(!0))}catch(T){A(`Failed to estimate job: ${T.message}`),y(!0)}},k=i=>{c(i)},X=async()=>{if(!a)return;const i=typeof n=="object"&&n?.id?n.id:n;try{const T=(await u.mutateAsync({sourceLang:H,targetLang:Q,guids:a.guids,provider:i,jobName:h||void 0,instructions:m||void 0}))[0];I(T),g(!1),P(!0)}catch(p){A(`Failed to start job: ${p.message}`),y(!0)}},xe=()=>{if(P(!1),I(null),l(null),j(""),f(""),a&&a.guids){const i=new Set(a.guids),p=Array.isArray(o)?o:o.tus;for(let T=p.length-1;T>=0;T--)i.has(p[T].guid)&&d(s,T)}},We=i=>i===0?"Free":i==null?"Unknown":`$${i.toFixed(2)}`,q=Array.isArray(o)?o:o.tus,H=Array.isArray(o)?s.split("|")[0]||s.split("→")[0]:o.sourceLang,Q=Array.isArray(o)?s.split("|")[1]||s.split("→").slice(1).join("→"):o.targetLang,ge=q.some(i=>i.ntgt!==void 0),ue=q.some(i=>i.channel!==void 0);return e.jsxs(r,{p:6,borderWidth:"1px",borderRadius:"lg",bg:"white",shadow:"sm",children:[e.jsxs($,{gap:4,align:"stretch",children:[e.jsx(r,{children:e.jsxs(W,{align:"center",justify:"space-between",mb:2,children:[e.jsxs(W,{align:"center",gap:3,children:[e.jsx(D,{colorPalette:"blue",size:"sm",children:H}),e.jsx(t,{color:"fg.muted",fontSize:"lg",children:"→"}),e.jsx(D,{colorPalette:"green",size:"sm",children:Q}),e.jsxs(W,{align:"center",gap:3,ml:4,children:[e.jsxs(_e,{size:"sm",width:"250px",value:n?[n]:[],onValueChange:i=>{},positioning:{strategy:"absolute",placement:"bottom-start",flip:!0,gutter:4},children:[e.jsxs(qe,{children:[e.jsx(t,{fontSize:"sm",flex:"1",textAlign:"left",children:typeof n=="object"&&n?.id?n.id:n||"Select Provider"}),e.jsx(He,{})]}),e.jsx(Qe,{children:e.jsx(Ge,{zIndex:1e3,bg:"white",borderWidth:"1px",borderColor:"border.default",borderRadius:"md",shadow:"lg",minW:"250px",maxH:"200px",overflow:"auto",children:F?e.jsxs(r,{p:3,textAlign:"center",children:[e.jsx(Z,{size:"sm"}),e.jsx(t,{fontSize:"sm",color:"fg.muted",mt:2,children:"Loading providers..."})]}):B.slice().sort((i,p)=>{const T=typeof i=="object"&&i?.id?i.id:i,O=typeof p=="object"&&p?.id?p.id:p;return T.localeCompare(O)}).map((i,p)=>e.jsxs(Ke,{item:i,value:i,onClick:()=>k(i),children:[e.jsx(Ve,{children:typeof i=="object"&&i?.id?i.id:i}),e.jsx(Ye,{})]},`provider-${p}-${typeof i=="string"?i:JSON.stringify(i)}`))})})]}),e.jsx(R,{size:"sm",colorPalette:"blue",onClick:J,disabled:!n,loading:N.isPending,children:"Create Job"})]})]}),e.jsxs(t,{fontSize:"sm",color:"fg.muted",children:[q.length," ",q.length===1?"TU":"TUs"]})]})}),e.jsx(r,{bg:"white",borderRadius:"md",overflow:"auto",children:e.jsxs(r,{as:"table",w:"100%",fontSize:"sm",children:[e.jsx(r,{as:"thead",bg:"blue.subtle",borderBottom:"2px",borderColor:"blue.muted",shadow:"sm",children:e.jsxs(r,{as:"tr",children:[e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",textAlign:"left",minW:"120px",children:e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"GUID"})}),ue&&e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",textAlign:"left",minW:"120px",children:e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"CHANNEL"})}),e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",textAlign:"left",minW:"350px",children:e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"SOURCE"})}),ge&&e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",textAlign:"left",minW:"350px",children:e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"TARGET"})}),e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",textAlign:"center",minW:"100px",children:e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"ACTION"})})]})}),e.jsx(r,{as:"tbody",children:q.map((i,p)=>e.jsxs(r,{as:"tr",_hover:{bg:"gray.subtle"},children:[e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",children:e.jsx(t,{fontSize:"xs",fontFamily:"mono",color:"blue.600",userSelect:"all",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxW:"100px",children:i.guid})}),ue&&e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",children:e.jsx(t,{fontSize:"xs",children:i.channel||""})}),e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",children:e.jsx(t,{fontSize:"xs",noOfLines:2,dir:H?.startsWith("he")||H?.startsWith("ar")?"rtl":"ltr",children:Array.isArray(i.nsrc)?v(i.nsrc):i.nsrc})}),ge&&e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",children:e.jsx(t,{fontSize:"xs",noOfLines:2,dir:Q?.startsWith("he")||Q?.startsWith("ar")?"rtl":"ltr",children:Array.isArray(i.ntgt)?v(i.ntgt):i.ntgt||""})}),e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",textAlign:"center",children:e.jsx(R,{size:"xs",colorPalette:"red",variant:"outline",onClick:()=>d(s,p),children:"Remove"})})]},`cart-tu-${p}-${typeof i.guid=="string"?i.guid:i.nid||p}`))})]})})]}),e.jsxs(se,{open:x,onOpenChange:i=>g(i.open),children:[e.jsx(oe,{}),e.jsx(ne,{children:e.jsxs(le,{maxW:"500px",children:[e.jsxs(ie,{children:[e.jsx(de,{children:"Job Created Successfully"}),e.jsx(ae,{})]}),e.jsx(ce,{children:a&&e.jsxs($,{gap:4,align:"stretch",children:[e.jsxs(r,{children:[e.jsxs(t,{fontSize:"lg",fontWeight:"bold",color:"green.600",mb:3,children:[a.guids?.length||0," TUs accepted out of ",q.length," sent"]}),e.jsxs($,{gap:2,align:"stretch",children:[e.jsxs(r,{children:[e.jsx(t,{fontSize:"sm",fontWeight:"semibold",color:"fg.default",display:"inline",children:"Provider: "}),e.jsx(t,{fontSize:"sm",color:"blue.600",fontFamily:"mono",display:"inline",children:typeof n=="object"&&n?.id?n.id:n})]}),e.jsxs(r,{children:[e.jsx(t,{fontSize:"sm",fontWeight:"semibold",color:"fg.default",display:"inline",children:"Estimated Cost: "}),e.jsx(t,{fontSize:"sm",color:"green.600",fontWeight:"medium",display:"inline",children:We(a.estimatedCost)})]}),a.statusDescription&&e.jsxs(r,{children:[e.jsx(t,{fontSize:"sm",fontWeight:"semibold",color:"fg.default",display:"inline",children:"Status: "}),e.jsx(t,{fontSize:"sm",color:"fg.muted",display:"inline",children:je(a.statusDescription)})]})]})]}),e.jsxs(r,{children:[e.jsx(t,{fontSize:"sm",fontWeight:"bold",mb:2,children:"Job Name (optional):"}),e.jsx(Ze,{placeholder:"Enter a name for this job...",value:h,onChange:i=>j(i.target.value)})]}),e.jsxs(r,{children:[e.jsx(t,{fontSize:"sm",fontWeight:"bold",mb:2,children:"Job Instructions (optional):"}),e.jsx(Xe,{placeholder:"Enter any specific instructions for this translation job...",value:m,onChange:i=>f(i.target.value),rows:3})]}),e.jsxs(W,{gap:3,children:[e.jsx(R,{colorPalette:"gray",variant:"outline",onClick:()=>{g(!1),l(null),j(""),f("")},flex:"1",disabled:u.isPending,children:"Cancel"}),e.jsx(R,{colorPalette:"green",onClick:X,loading:u.isPending,flex:"1",children:"Push Job"})]})]})})]})})]}),e.jsxs(se,{open:z,onOpenChange:i=>y(i.open),children:[e.jsx(oe,{}),e.jsx(ne,{children:e.jsxs(le,{maxW:"400px",children:[e.jsxs(ie,{children:[e.jsx(de,{children:"Job Creation Failed"}),e.jsx(ae,{})]}),e.jsx(ce,{children:e.jsxs($,{gap:4,align:"stretch",children:[e.jsx(t,{color:"red.600",children:S}),e.jsx(R,{colorPalette:"red",onClick:()=>y(!1),w:"100%",children:"Close"})]})})]})})]}),e.jsxs(se,{open:M,onOpenChange:i=>{i.open||xe()},children:[e.jsx(oe,{}),e.jsx(ne,{children:e.jsxs(le,{maxW:"400px",children:[e.jsxs(ie,{children:[e.jsx(de,{children:"Job Started Successfully"}),e.jsx(ae,{})]}),e.jsx(ce,{children:w&&e.jsxs($,{gap:4,align:"stretch",children:[e.jsx(r,{children:e.jsxs($,{gap:2,align:"stretch",children:[e.jsxs(r,{children:[e.jsx(t,{fontSize:"sm",fontWeight:"semibold",color:"fg.default",display:"inline",children:"Job ID: "}),e.jsx(t,{fontSize:"sm",fontFamily:"mono",color:"blue.600",cursor:"pointer",_hover:{textDecoration:"underline"},onClick:i=>{i.preventDefault(),window.open(`/job/${w.jobGuid}`,"_blank")},display:"inline",children:w.jobGuid})]}),e.jsxs(r,{children:[e.jsx(t,{fontSize:"sm",fontWeight:"semibold",color:"fg.default",display:"inline",children:"Provider: "}),e.jsx(t,{fontSize:"sm",color:"blue.600",fontFamily:"mono",display:"inline",children:w.translationProvider})]}),e.jsxs(r,{children:[e.jsx(t,{fontSize:"sm",fontWeight:"semibold",color:"fg.default",display:"inline",children:"Language Pair: "}),e.jsxs(t,{fontSize:"sm",color:"purple.600",fontWeight:"medium",display:"inline",children:[w.sourceLang," → ",w.targetLang]})]}),e.jsxs(r,{children:[e.jsx(t,{fontSize:"sm",fontWeight:"semibold",color:"fg.default",display:"inline",children:"Status: "}),e.jsx(t,{fontSize:"sm",fontWeight:"bold",color:w.status==="completed"?"green.600":"orange.600",display:"inline",children:w.status.toUpperCase()})]}),w.statusDescription&&e.jsxs(r,{children:[e.jsx(t,{fontSize:"sm",fontWeight:"semibold",color:"fg.default",mb:1,children:"Description:"}),e.jsx(t,{fontSize:"sm",color:"fg.muted",pl:2,borderLeft:"2px",borderColor:"blue.200",children:je(w.statusDescription)})]})]})}),e.jsx(r,{children:e.jsx(R,{colorPalette:"blue",onClick:xe,w:"100%",children:"Close & Remove TUs from Cart"})})]})})]})})]})]})};export{dt as C,at as E,jt as L,ht as M,ct as P,xt as S,we as a,gt as b,ft as c,ut as d,mt as e,K as f,bt as g,pt as h,St as i,je as r};
