import{al as _e,A as Le,ag as Ne,r as s,ap as Ue,u as qe,j as e,B as r,S as Q,F as I,T as o,am as _,an as L,ao as N,a as ne,V as g,a2 as B,au as Ge,av as Me,aw as Ee,ax as Ye,ay as Ve,az as He,aA as Qe,af as Ke,L as Je,c as Xe,p as ue,q as xe,s as ge,t as pe,v as be,aB as Ze}from"./vendor-BVgSJH5C.js";import{a as et,L as tt,M as U,d as rt,f as fe}from"./index-543A5WcJ.js";function se(l){return Array.isArray(l)?l.map(h=>typeof h=="string"?h:`{{${h.t}}}`).join(""):""}function K(l,h=""){return l==null?h:typeof l=="string"?l:typeof l=="number"||typeof l=="boolean"?String(l):h}const st=()=>{const{sourceLang:l,targetLang:h}=_e(),me=Le(),[c,le]=Ne(),[z,W]=s.useState(new Set),w=t=>{const n=c.get(t),i=n?n.split(",").filter(Boolean):[];return t==="tmStore"?i.map(j=>j==="__null__"?"New/Unassigned":j):i},[a,J]=s.useState(()=>({guid:c.get("guid")||"",nid:c.get("nid")||"",rid:c.get("rid")||"",sid:c.get("sid")||"",nsrc:c.get("nsrc")||"",ntgt:c.get("ntgt")||"",tconf:w("tconf"),q:w("q"),translationProvider:w("translationProvider"),tmStore:w("tmStore"),group:w("group"),jobGuid:c.get("jobGuid")||"",channel:w("channel"),minTS:c.get("minTS")||"",maxTS:c.get("maxTS")||""})),[b,je]=s.useState(()=>{const t=c.get("active");return t!==null?t==="1":!0}),[p,Se]=s.useState(()=>c.get("showTechnicalColumns")==="1"),[f,Ce]=s.useState(()=>c.get("showTNotes")==="1"),[m,we]=s.useState(()=>c.get("showOnlyLeveraged")==="1"),[x,X]=s.useState(()=>({guid:c.get("guid")||"",nid:c.get("nid")||"",rid:c.get("rid")||"",sid:c.get("sid")||"",nsrc:c.get("nsrc")||"",ntgt:c.get("ntgt")||"",tconf:w("tconf"),q:w("q"),translationProvider:w("translationProvider"),tmStore:w("tmStore"),group:w("group"),jobGuid:c.get("jobGuid")||"",channel:w("channel"),minTS:c.get("minTS")||"",maxTS:c.get("maxTS")||""})),M=s.useRef(),F=s.useRef(),P=s.useRef(),q=s.useRef(null),A=s.useRef({}),Z=s.useRef(null),G=s.useRef(null),[u,ie]=s.useState(!1),[E,Y]=s.useState(""),[V,H]=s.useState(""),[Te,ee]=s.useState(!1),ye=s.useMemo(()=>["tmSearch",l,h,a,b,f,m,p],[l,h,a,b,f,m,p]),{data:te,isLoading:D,isError:ve,error:ze,fetchNextPage:ae,hasNextPage:re,isFetchingNextPage:oe,isFetching:de}=Ue({queryKey:ye,queryFn:async({pageParam:t=1})=>{const n=new URLSearchParams({sourceLang:l,targetLang:h,page:t.toString(),limit:"100",...b&&{active:"1"},...f&&{onlyTNotes:"1"},...p&&{includeTechnicalColumns:"1"},...m&&{onlyLeveraged:"1"}});if(["guid","nid","rid","sid","nsrc","ntgt","jobGuid"].forEach(d=>{a[d]&&a[d].trim()!==""&&n.set(d,a[d])}),["channel","tconf","q","translationProvider","tmStore","group"].forEach(d=>{if(Array.isArray(a[d])&&a[d].length>0){let v=a[d];d==="tmStore"&&(v=v.map(S=>S==="New/Unassigned"?"__null__":S)),n.set(d,v.join(","))}}),a.minTS&&/^\d{1,2}\/\d{1,2}$/.test(a.minTS)){const d=new Date().getFullYear(),[v,S]=a.minTS.split("/"),O=new Date(`${d}-${v.padStart(2,"0")}-${S.padStart(2,"0")}T00:00:00`);n.set("minTS",O.getTime().toString())}if(a.maxTS&&/^\d{1,2}\/\d{1,2}$/.test(a.maxTS)){const d=new Date().getFullYear(),[v,S]=a.maxTS.split("/"),O=new Date(`${d}-${v.padStart(2,"0")}-${S.padStart(2,"0")}T23:59:59.999`);n.set("maxTS",O.getTime().toString())}return await fe(`/api/tm/search?${n}`)},getNextPageParam:(t,n)=>t.data.length===parseInt(t.limit)?n.length+1:void 0,staleTime:3e4,refetchOnWindowFocus:!1,placeholderData:Ze}),{data:k={}}=qe({queryKey:["lowCardinalityColumns",l,h],queryFn:()=>fe(`/api/tm/lowCardinalityColumns/${l}/${h}`),staleTime:300*1e3,enabled:!D}),y=s.useMemo(()=>te?.pages.flatMap(t=>!t||!Array.isArray(t.data)?[]:t.data)||[],[te]),We=s.useCallback(t=>{D||oe||(M.current&&M.current.disconnect(),M.current=new IntersectionObserver(n=>{n[0].isIntersecting&&re&&ae()}),t&&M.current.observe(t))},[D,oe,re,ae]),R=s.useCallback(t=>{q.current=t},[]),$=s.useCallback(()=>{q.current=null},[]),T=s.useCallback((t,n,i,j,ce)=>{const d=new URLSearchParams;Object.entries(t).forEach(([v,S])=>{if(Array.isArray(S)){if(S.length>0){let O=S;v==="tmStore"&&(O=S.map(he=>he==="New/Unassigned"?"__null__":he)),d.set(v,O.join(","))}}else typeof S=="string"&&S.trim()!==""&&d.set(v,S)}),n?Object.keys(Object.fromEntries(d)).length>0&&d.set("active","1"):d.set("active","0"),i&&d.set("showTechnicalColumns","1"),j&&d.set("showTNotes","1"),ce&&d.set("showOnlyLeveraged","1"),le(d,{replace:!0})},[le]),C=s.useCallback((t,n)=>{X(i=>({...i,[t]:n})),W(new Set),G.current&&(G.current.scrollTop=0),clearTimeout(F.current),F.current=setTimeout(()=>{const i={...a,[t]:n};J(i),clearTimeout(P.current),P.current=setTimeout(()=>{T(i,b,p,f,m)},200)},300)},[a,b,p,f,m,T]),Ae=(t,n)=>{const i=new Set(z);n?i.add(t):i.delete(t),W(i)},Be=t=>{if(t){const n=new Set(y.map((i,j)=>j));W(n)}else W(new Set)},Fe=()=>{const t=Array.from(z).map(n=>y[n]);rt(l,h,t),W(new Set)},Pe=y.length>0&&z.size===y.length,ke=z.size>0&&z.size<y.length;s.useEffect(()=>{if(q.current&&A.current[q.current]){const t=A.current[q.current];setTimeout(()=>{if(t&&document.contains(t)&&(t.focus(),typeof t.setSelectionRange=="function"&&t.value)){const n=t.value.length;t.setSelectionRange(n,n)}},10)}},[y]);const Re=s.useCallback(t=>{je(t),T(a,t,p,f,m)},[a,p,f,m,T]),$e=s.useCallback(t=>{Ce(t),W(new Set),T(a,b,p,t,m)},[a,b,p,m,T]),Ie=s.useCallback(t=>{we(t),W(new Set),T(a,b,p,f,t)},[a,b,p,f,T]),De=s.useCallback(t=>{Se(t),T(a,b,t,f,m)},[a,b,f,m,T]);if(s.useEffect(()=>()=>{F.current&&clearTimeout(F.current),P.current&&clearTimeout(P.current)},[]),s.useEffect(()=>(de?Z.current=setTimeout(()=>{ie(!0)},1e3):(clearTimeout(Z.current),ie(!1)),()=>clearTimeout(Z.current)),[de]),D&&y.length===0&&!te)return e.jsx(r,{display:"flex",justifyContent:"center",mt:10,children:e.jsx(Q,{size:"xl"})});if(ve)return e.jsx(r,{mt:5,px:6,children:e.jsx(et,{error:ze,fallbackMessage:"Failed to fetch translation memory data"})});const Oe=(t,n)=>{me(`/tm/${t}/${n}`)};return e.jsxs(r,{children:[e.jsx(tt,{onSelect:Oe,currentPair:{sourceLang:l,targetLang:h},triggerContent:e.jsxs(I,{align:"center",gap:3,children:[e.jsxs(o,{fontSize:"md",fontWeight:"semibold",color:"blue.700",children:[l," → ",h]}),D&&e.jsx(Q,{size:"sm"})]}),rightContent:e.jsxs(e.Fragment,{children:[e.jsxs(I,{align:"center",gap:2,children:[e.jsx(o,{fontSize:"sm",color:"blue.600",children:"Show Technical IDs"}),e.jsxs(_,{checked:p,onCheckedChange:t=>De(t.checked),size:"sm",disabled:u,children:[e.jsx(L,{}),e.jsx(N,{borderWidth:"2px",borderColor:"blue.400"})]})]}),e.jsxs(I,{align:"center",gap:2,children:[e.jsx(o,{fontSize:"sm",color:"blue.600",children:"Only Leveraged"}),e.jsxs(_,{checked:m,onCheckedChange:t=>Ie(t.checked),size:"sm",disabled:u,children:[e.jsx(L,{}),e.jsx(N,{borderWidth:"2px",borderColor:"blue.400"})]})]}),e.jsxs(I,{align:"center",gap:2,children:[e.jsx(o,{fontSize:"sm",color:"blue.600",children:"Only TNotes"}),e.jsxs(_,{checked:f,onCheckedChange:t=>$e(t.checked),size:"sm",disabled:u,children:[e.jsx(L,{}),e.jsx(N,{borderWidth:"2px",borderColor:"blue.400"})]})]}),z.size>0&&e.jsxs(ne,{colorPalette:"blue",onClick:Fe,disabled:u,children:["Add to Cart (",z.size," ",z.size===1?"TU":"TUs",")"]})]})}),e.jsxs(r,{ref:G,mx:6,mt:6,h:"calc(100vh - 140px)",bg:"white",borderRadius:"lg",shadow:"sm",overflow:"auto",position:"relative",children:[u&&e.jsx(r,{position:"absolute",top:0,left:0,bottom:0,minW:"100%",w:G.current?.scrollWidth?`${G.current.scrollWidth}px`:"100%",bg:"blackAlpha.400",display:"flex",alignItems:"center",zIndex:1500,borderRadius:"lg",children:e.jsx(r,{position:"sticky",left:"50%",transform:"translateX(-50%)",children:e.jsxs(g,{gap:3,bg:"white",p:6,borderRadius:"md",shadow:"lg",zIndex:1501,children:[e.jsx(Q,{size:"lg",color:"blue.500"}),e.jsx(o,{color:"fg.default",fontWeight:"medium",children:"Loading..."})]})})}),e.jsxs(r,{as:"table",w:"100%",fontSize:"sm",children:[e.jsx(r,{as:"thead",position:"sticky",top:0,bg:"blue.subtle",zIndex:1,borderBottom:"2px",borderColor:"blue.muted",shadow:"sm",children:e.jsxs(r,{as:"tr",children:[e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",minW:"60px",textAlign:"center",children:e.jsxs(_,{checked:Pe,onCheckedChange:t=>Be(t.checked),disabled:u,children:[e.jsx(L,{ref:t=>{t&&(t.indeterminate=ke)}}),e.jsx(N,{borderWidth:"2px",borderColor:"blue.500"})]})}),p&&e.jsxs(e.Fragment,{children:[e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",minW:"120px",textAlign:"left",children:e.jsxs(g,{gap:2,align:"stretch",children:[e.jsx(o,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"guid"}),e.jsx(B,{size:"xs",placeholder:"Filter GUID...",value:x.guid,onChange:t=>C("guid",t.target.value),onFocus:()=>R("guid"),onBlur:$,ref:t=>{t&&(A.current.guid=t)},bg:"yellow.subtle",disabled:u},"guid-input")]})}),e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",minW:"120px",textAlign:"left",children:e.jsxs(g,{gap:2,align:"stretch",children:[e.jsx(o,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"nid"}),e.jsx(B,{size:"xs",placeholder:"Filter NID...",value:x.nid,onChange:t=>C("nid",t.target.value),onFocus:()=>R("nid"),onBlur:$,ref:t=>{t&&(A.current.nid=t)},bg:"yellow.subtle",disabled:u},"nid-input")]})}),e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",minW:"120px",textAlign:"left",children:e.jsxs(g,{gap:2,align:"stretch",children:[e.jsx(o,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"jobGuid"}),e.jsx(B,{size:"xs",placeholder:"Filter Job GUID...",value:x.jobGuid,onChange:t=>C("jobGuid",t.target.value),onFocus:()=>R("jobGuid"),onBlur:$,ref:t=>{t&&(A.current.jobGuid=t)},bg:"yellow.subtle",disabled:u},"jobGuid-input")]})}),e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",minW:"150px",textAlign:"left",children:e.jsxs(g,{gap:2,align:"stretch",children:[e.jsx(o,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"rid"}),e.jsx(B,{size:"xs",placeholder:"Filter RID...",value:x.rid,onChange:t=>C("rid",t.target.value),onFocus:()=>R("rid"),onBlur:$,ref:t=>{t&&(A.current.rid=t)},bg:"yellow.subtle",disabled:u},"rid-input")]})}),e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",minW:"150px",textAlign:"left",children:e.jsxs(g,{gap:2,align:"stretch",children:[e.jsx(o,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"sid"}),e.jsx(B,{size:"xs",placeholder:"Filter SID...",value:x.sid,onChange:t=>C("sid",t.target.value),onFocus:()=>R("sid"),onBlur:$,ref:t=>{t&&(A.current.sid=t)},bg:"yellow.subtle",disabled:u},"sid-input")]})}),e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",minW:"120px",textAlign:"left",children:e.jsxs(g,{gap:2,align:"stretch",children:[e.jsx(o,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"Group"}),e.jsx(U,{value:x.group,onChange:t=>C("group",t),options:k.group,placeholder:"Group...",disabled:u})]})}),e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",minW:"120px",textAlign:"left",children:e.jsxs(g,{gap:2,align:"stretch",children:[e.jsx(o,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"TM Store"}),e.jsx(U,{value:x.tmStore,onChange:t=>C("tmStore",t),options:(Array.isArray(k.tmStore)?k.tmStore:[]).map(t=>t==="__null__"?"New/Unassigned":K(t,String(t))),placeholder:"TM Store...",disabled:u})]})}),e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",minW:"120px",textAlign:"left",children:e.jsxs(g,{gap:2,align:"stretch",children:[e.jsx(o,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"Channel"}),e.jsx(U,{value:x.channel,onChange:t=>C("channel",t),options:k.channel,placeholder:"Channel...",disabled:u})]})})]}),e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",minW:"350px",textAlign:"left",children:e.jsxs(g,{gap:2,align:"stretch",children:[e.jsx(o,{fontSize:"sm",fontWeight:"bold",color:"blue.600",textAlign:l?.startsWith("he")||l?.startsWith("ar")?"right":"left",children:"Source"}),e.jsx(B,{size:"xs",placeholder:"Filter source...",value:x.nsrc,onChange:t=>C("nsrc",t.target.value),onFocus:()=>R("nsrc"),onBlur:$,ref:t=>{t&&(A.current.nsrc=t)},bg:"yellow.subtle",dir:l?.startsWith("he")||l?.startsWith("ar")?"rtl":"ltr",disabled:u},"nsrc-input")]})}),e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",minW:"350px",textAlign:"left",children:e.jsxs(g,{gap:2,align:"stretch",children:[e.jsx(o,{fontSize:"sm",fontWeight:"bold",color:"blue.600",textAlign:h?.startsWith("he")||h?.startsWith("ar")?"right":"left",children:"Target"}),e.jsx(B,{size:"xs",placeholder:"Filter target...",value:x.ntgt,onChange:t=>C("ntgt",t.target.value),onFocus:()=>R("ntgt"),onBlur:$,ref:t=>{t&&(A.current.ntgt=t)},bg:"yellow.subtle",dir:h?.startsWith("he")||h?.startsWith("ar")?"rtl":"ltr",disabled:u},"ntgt-input")]})}),e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",minW:"60px",textAlign:"center",children:e.jsxs(g,{gap:2,align:"stretch",children:[e.jsx(o,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"TConf"}),e.jsx(U,{value:x.tconf,onChange:t=>C("tconf",t),options:k.tconf,placeholder:"TConf...",disabled:u,sortNumeric:!0})]})}),e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",minW:"40px",textAlign:"center",children:e.jsxs(g,{gap:2,align:"stretch",children:[e.jsx(o,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"q"}),e.jsx(U,{value:x.q,onChange:t=>C("q",t),options:k.q,placeholder:"Quality...",disabled:u,sortNumeric:!0})]})}),e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",minW:"120px",textAlign:"left",children:e.jsxs(g,{gap:2,align:"stretch",children:[e.jsx(o,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"Provider"}),e.jsx(U,{value:x.translationProvider,onChange:t=>C("translationProvider",t),options:k.translationProvider,placeholder:"Provider...",disabled:u})]})}),e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",minW:"80px",textAlign:"center",children:e.jsxs(g,{gap:2,align:"center",children:[e.jsx(o,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"Active"}),e.jsxs(_,{checked:b,onCheckedChange:t=>Re(t.checked),size:"sm",disabled:u,children:[e.jsx(L,{}),e.jsx(N,{borderWidth:"2px",borderColor:"blue.400"})]})]})}),e.jsx(r,{as:"th",p:3,borderBottom:"1px",borderColor:"border.default",minW:"120px",textAlign:"center",children:e.jsxs(g,{gap:2,align:"stretch",children:[e.jsx(o,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"Timestamp"}),e.jsxs(Ge,{open:Te,onOpenChange:t=>{ee(t.open),t.open&&(Y(x.minTS),H(x.maxTS))},children:[e.jsx(Me,{asChild:!0,children:e.jsx(o,{fontSize:"xs",cursor:"pointer",color:"blue.600",textDecoration:"underline",_hover:{color:"blue.700"},px:2,py:1,children:x.minTS||x.maxTS?`${x.minTS||"start"} → ${x.maxTS||"end"}`:"Filter dates..."})}),e.jsx(Ee,{children:e.jsxs(Ye,{children:[e.jsx(Ve,{}),e.jsx(He,{children:e.jsx(o,{fontSize:"sm",fontWeight:"semibold",children:"Date Range Filter"})}),e.jsx(Qe,{children:e.jsxs(g,{gap:3,align:"stretch",children:[e.jsxs(r,{children:[e.jsx(o,{fontSize:"xs",mb:1,color:"fg.muted",children:"From"}),e.jsx(B,{type:"date",size:"sm",value:E?(()=>{const[t,n]=E.split("/");return`${new Date().getFullYear()}-${t?.padStart(2,"0")}-${n?.padStart(2,"0")}`})():"",onChange:t=>{if(t.target.value){const[n,i,j]=t.target.value.split("-");Y(`${parseInt(i,10)}/${parseInt(j,10)}`),setTimeout(()=>t.target.blur(),0)}else Y("")}})]}),e.jsxs(r,{children:[e.jsx(o,{fontSize:"xs",mb:1,color:"fg.muted",children:"To"}),e.jsx(B,{type:"date",size:"sm",value:V?(()=>{const[t,n]=V.split("/");return`${new Date().getFullYear()}-${t?.padStart(2,"0")}-${n?.padStart(2,"0")}`})():"",onChange:t=>{if(t.target.value){const[n,i,j]=t.target.value.split("-");H(`${parseInt(i,10)}/${parseInt(j,10)}`),setTimeout(()=>t.target.blur(),0)}else H("")}})]}),e.jsxs(Ke,{gap:2,children:[e.jsx(ne,{size:"sm",variant:"outline",flex:1,onClick:()=>{X(t=>({...t,minTS:"",maxTS:""})),W(new Set),clearTimeout(F.current),F.current=setTimeout(()=>{const t={...a,minTS:"",maxTS:""};J(t),clearTimeout(P.current),P.current=setTimeout(()=>{T(t,b,p,f,m)},200)},300),Y(""),H(""),ee(!1)},children:"Clear"}),e.jsx(ne,{size:"sm",colorPalette:"blue",flex:1,onClick:()=>{X(t=>({...t,minTS:E,maxTS:V})),W(new Set),clearTimeout(F.current),F.current=setTimeout(()=>{const t={...a,minTS:E,maxTS:V};J(t),clearTimeout(P.current),P.current=setTimeout(()=>{T(t,b,p,f,m)},200)},300),ee(!1)},children:"Apply"})]})]})})]})})]})]})})]})}),e.jsx(r,{as:"tbody",children:y.map((t,n)=>e.jsxs(r,{as:"tr",ref:n===y.length-20?We:null,_hover:{bg:"gray.subtle"},children:[e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",textAlign:"center",children:e.jsxs(_,{checked:z.has(n),onCheckedChange:i=>Ae(n,i.checked),disabled:u,children:[e.jsx(L,{}),e.jsx(N,{borderWidth:"1px",borderColor:"gray.400"})]})}),p&&e.jsxs(e.Fragment,{children:[e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",children:e.jsx(o,{fontSize:"xs",fontFamily:"mono",color:"blue.600",userSelect:"all",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxW:"100px",children:t.guid})}),e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",children:e.jsx(o,{fontSize:"xs",fontFamily:"mono",color:"purple.600",userSelect:"all",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxW:"100px",children:t.nid||""})}),e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",children:e.jsx(o,{fontSize:"xs",fontFamily:"mono",color:"green.600",userSelect:"all",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxW:"100px",cursor:"pointer",_hover:{textDecoration:"underline"},onClick:i=>{i.preventDefault(),window.open(`/job/${t.jobGuid}`,"_blank")},children:t.jobGuid})}),e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",children:e.jsx(o,{fontSize:"xs",wordBreak:"break-all",whiteSpace:"normal",children:t.rid})}),e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",children:e.jsx(o,{fontSize:"xs",wordBreak:"break-all",whiteSpace:"normal",children:t.sid})}),e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",children:e.jsx(o,{fontSize:"xs",color:t.group==="Unknown"||t.group==="Unassigned"?"gray.500":"fg.default",fontStyle:t.group==="Unknown"||t.group==="Unassigned"?"italic":"normal",children:t.group})}),e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",children:e.jsx(o,{fontSize:"xs",fontFamily:"mono",color:K(t.tmStore)?"blue.600":"gray.500",fontStyle:K(t.tmStore)?"normal":"italic",children:K(t.tmStore,"New/Unassigned")})}),e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",children:t.channel?e.jsx(Je,{as:Xe,to:`/sources/${t.channel}?rid=${encodeURIComponent(t.rid)}&guid=${encodeURIComponent(t.guid)}`,fontSize:"xs",color:"blue.600",_hover:{textDecoration:"underline"},children:t.channel}):e.jsx(o,{fontSize:"xs",children:t.channel})})]}),e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",children:t.notes?e.jsxs(ue,{children:[e.jsx(xe,{asChild:!0,children:e.jsx(o,{fontSize:"xs",noOfLines:2,cursor:"help",dir:l?.startsWith("he")||l?.startsWith("ar")?"rtl":"ltr",children:se(t.nsrc)})}),e.jsx(ge,{children:e.jsxs(pe,{maxW:"400px",bg:"yellow.100",borderWidth:"1px",borderColor:"yellow.300",shadow:"lg",children:[e.jsx(be,{}),e.jsxs(r,{children:[t.notes.desc&&e.jsx(o,{fontSize:"sm",mb:2,whiteSpace:"pre-wrap",color:"black",children:t.notes.desc}),t.notes.ph&&e.jsxs(r,{children:[e.jsx(o,{fontSize:"xs",fontWeight:"bold",color:"gray.600",mb:1,children:"Placeholders:"}),Object.entries(t.notes.ph).map(([i,j])=>e.jsxs(r,{mb:1,children:[e.jsx(o,{fontSize:"xs",fontFamily:"mono",color:"blue.600",children:i}),e.jsxs(o,{fontSize:"xs",color:"gray.600",children:[j.desc," (e.g., ",j.sample,")"]})]},i))]})]})]})})]}):e.jsx(o,{fontSize:"xs",noOfLines:2,dir:l?.startsWith("he")||l?.startsWith("ar")?"rtl":"ltr",children:se(t.nsrc)})}),e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",children:e.jsx(o,{fontSize:"xs",noOfLines:2,dir:h?.startsWith("he")||h?.startsWith("ar")?"rtl":"ltr",children:se(t.ntgt)})}),e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",textAlign:"center",children:t.tnotes?e.jsxs(ue,{children:[e.jsx(xe,{asChild:!0,children:e.jsx(o,{fontSize:"xs",fontWeight:"bold",cursor:"help",children:t.tconf||""})}),e.jsx(ge,{children:e.jsxs(pe,{maxW:"400px",bg:"yellow.100",borderWidth:"1px",borderColor:"yellow.300",shadow:"lg",children:[e.jsx(be,{}),e.jsx(o,{fontSize:"sm",whiteSpace:"pre-wrap",color:"black",children:t.tnotes})]})})]}):e.jsx(o,{fontSize:"xs",children:t.tconf||""})}),e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",textAlign:"center",children:e.jsx(o,{fontSize:"xs",children:t.q})}),e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",children:e.jsx(o,{fontSize:"xs",children:t.translationProvider})}),e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",textAlign:"center",children:t.active===1&&e.jsx(o,{fontSize:"lg",color:"green.500",children:"✓"})}),e.jsx(r,{as:"td",p:3,borderBottom:"1px",borderColor:"border.subtle",textAlign:"center",children:e.jsx(o,{fontSize:"xs",color:"fg.muted",children:t.ts?new Date(t.ts).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):""})})]},`${n}-${t.guid||t.nid||n}`))})]}),oe&&e.jsx(I,{justify:"center",p:4,children:e.jsx(Q,{size:"md"})}),!re&&y.length>0&&e.jsx(I,{justify:"center",p:4,children:e.jsx(o,{color:"fg.muted",fontSize:"sm",children:"No more results"})}),y.length===0&&!D&&e.jsx(I,{justify:"center",p:8,children:e.jsx(o,{color:"fg.muted",children:"No translation units found for the current filters"})})]})]})};export{st as default};
