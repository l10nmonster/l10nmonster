import{j as e,B as s,T as r,r as S,R as z,S as y,F as W}from"./index-7BvmfFYo.js";import{A as v}from"./namespace-DnzAbJc8.js";import{u as w}from"./useQuery-BJCiEOEF.js";import{f as C}from"./api-lUcpjS_e.js";import{V as p}from"./v-stack-CIRZgxKK.js";import{G as P}from"./grid-Ct9nMDCu.js";import{B as R}from"./badge-BwRiDO79.js";const A=({providers:n,selectedProvider:l,onProviderSelect:i})=>{const d=Object.keys(n||{});return e.jsxs(s,{w:"300px",borderRight:"1px",borderColor:"border.default",p:4,bg:"bg.muted",minH:"70vh",children:[e.jsx(r,{fontSize:"lg",fontWeight:"bold",mb:4,children:"Providers"}),e.jsxs(p,{gap:2,align:"stretch",children:[d.map(o=>e.jsxs(s,{p:3,borderRadius:"md",cursor:"pointer",bg:l===o?"blue.subtle":"white",borderWidth:"1px",borderColor:l===o?"blue.600":"border.default",_hover:{bg:l===o?"blue.subtle":"gray.subtle"},onClick:()=>i(o),children:[e.jsx(r,{fontSize:"sm",fontWeight:"medium",noOfLines:2,children:o}),n[o]?.info?.type&&e.jsx(r,{fontSize:"xs",color:"fg.muted",mt:1,children:n[o].info.type})]},o)),d.length===0&&e.jsx(r,{color:"fg.muted",fontSize:"sm",textAlign:"center",mt:4,children:"No providers found"})]})]})},O=({provider:n,providerId:l})=>{if(!n)return e.jsx(s,{p:6,textAlign:"center",children:e.jsx(r,{color:"fg.muted",children:"Select a provider to view details"})});const{info:i,properties:d}=n,o=t=>{if(!t)return t;const h={31:"#ef4444",32:"#22c55e",33:"#eab308",34:"#3b82f6",35:"#a855f7",36:"#06b6d4",39:"inherit"},a=[];let c=0,m="inherit";const b=/\u001B\[([0-9;]*)m/g;let x;for(;(x=b.exec(t))!==null;){if(x.index>c){const j=t.slice(c,x.index);a.push(e.jsx("span",{style:{color:m},children:j},`${c}-text`))}const f=x[1];h[f]&&(m=h[f]),c=x.index+x[0].length}if(c<t.length){const f=t.slice(c);a.push(e.jsx("span",{style:{color:m},children:f},`${c}-text`))}return a.length>0?a:t},g=t=>Array.isArray(t)?t.map((h,a)=>e.jsxs(s,{display:"flex",alignItems:"flex-start",gap:2,children:[e.jsx(r,{fontSize:"sm",color:"fg.muted",mt:"1px",children:"â€¢"}),e.jsx(r,{fontSize:"sm",flex:"1",children:o(h)})]},a)):e.jsx(r,{fontSize:"sm",children:o(t)}),u=t=>typeof t=="object"&&t!==null?e.jsx(s,{as:"pre",fontSize:"xs",bg:"bg.muted",p:2,borderRadius:"md",overflow:"auto",maxH:"200px",children:JSON.stringify(t,null,2)}):e.jsx(r,{fontSize:"sm",children:String(t)});return e.jsx(s,{flex:"1",p:6,overflow:"auto",children:e.jsxs(p,{gap:6,align:"stretch",children:[e.jsx(s,{children:e.jsx(r,{fontSize:"2xl",fontWeight:"bold",mb:2,children:l})}),e.jsxs(s,{p:4,borderWidth:"1px",borderRadius:"lg",bg:"white",shadow:"sm",children:[e.jsx(r,{fontSize:"lg",fontWeight:"semibold",mb:4,children:"Information"}),e.jsxs(P,{templateColumns:"auto 1fr",gap:3,alignItems:"start",children:[e.jsx(r,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"Type:"}),e.jsx(R,{colorPalette:"blue",size:"sm",children:i.type}),e.jsx(r,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"Cost per Word:"}),e.jsx(r,{fontSize:"sm",children:i.costPerWord}),e.jsx(r,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"Cost per MChar:"}),e.jsx(r,{fontSize:"sm",children:i.costPerMChar}),i.description&&e.jsxs(e.Fragment,{children:[e.jsx(r,{fontSize:"sm",fontWeight:"bold",color:"blue.600",children:"Description:"}),e.jsx(s,{children:g(i.description)})]})]})]}),e.jsxs(s,{p:4,borderWidth:"1px",borderRadius:"lg",bg:"white",shadow:"sm",children:[e.jsx(r,{fontSize:"lg",fontWeight:"semibold",mb:4,children:"Properties"}),Object.keys(d).length===0?e.jsx(r,{color:"fg.muted",fontSize:"sm",children:"No properties available"}):e.jsx(p,{gap:4,align:"stretch",children:Object.entries(d).map(([t,h])=>e.jsxs(s,{children:[e.jsxs(r,{fontSize:"sm",fontWeight:"bold",color:"blue.600",mb:2,children:[t,":"]}),e.jsx(s,{pl:4,children:u(h)})]},t))})]})]})})},L=()=>{const[n,l]=S.useState(null),{data:i={},isLoading:d,error:o}=w({queryKey:["providers"],queryFn:()=>C("/api/providers")});return z.useEffect(()=>{i&&Object.keys(i).length>0&&!n&&l(Object.keys(i)[0])},[i,n]),d?e.jsx(s,{display:"flex",justifyContent:"center",mt:10,children:e.jsx(y,{size:"xl"})}):o?e.jsx(s,{mt:5,px:6,children:e.jsx(v,{status:"error",children:e.jsxs(s,{children:[e.jsx(r,{fontWeight:"bold",children:"Error"}),e.jsx(r,{children:o?.message||"Failed to fetch provider data"})]})})}):e.jsxs(s,{py:6,px:6,children:[e.jsxs(s,{textAlign:"center",mb:6,children:[e.jsx(r,{fontSize:"2xl",fontWeight:"bold",mb:2,children:"Translation Providers"}),e.jsx(r,{color:"fg.muted",children:"Configuration and details for all available translation providers"})]}),e.jsx(s,{borderWidth:"1px",borderRadius:"lg",bg:"white",shadow:"sm",overflow:"hidden",minH:"70vh",children:e.jsxs(W,{children:[e.jsx(A,{providers:i,selectedProvider:n,onProviderSelect:l}),e.jsx(O,{provider:i[n],providerId:n})]})})]})};export{L as default};
