import{u as g,r as x,i as m,j as e,B as t,S as f,A as C,T as a,a6 as v,ai as w,v as c,F as y,g as S,a7 as z,aj as $,V as h}from"./vendor-BVSmEsOp.js";import{L as B,f as L}from"./index-Dl1WS_Lc.js";const M=()=>e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})}),P=()=>e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"})}),W=()=>{const u=g(),[o,p]=x.useState(!1),{data:i=[],isLoading:b,error:d}=m({queryKey:["tmStats"],queryFn:()=>L("/api/tm/stats")}),n=x.useMemo(()=>i.map(([r,l])=>({value:`${r}|${l}`,label:`${r} â†’ ${l}`,sourceLang:r,targetLang:l})).sort((r,l)=>r.label.localeCompare(l.label)),[i]),j=s=>{if(s){const[r,l]=s.split("|");u(`/tm/${r}/${l}`)}};return b?e.jsx(t,{display:"flex",justifyContent:"center",mt:10,children:e.jsx(f,{size:"xl"})}):d?e.jsx(t,{mt:5,px:6,children:e.jsx(C,{status:"error",children:e.jsxs(t,{children:[e.jsx(a,{fontWeight:"bold",children:"Error"}),e.jsx(a,{children:d})]})})}):e.jsxs(t,{children:[n.length>0&&e.jsx(t,{bg:"blue.subtle",borderBottom:"1px",borderColor:"blue.muted",shadow:"md",borderLeft:"4px",borderLeftColor:"blue.500",children:e.jsxs(v,{open:o,onOpenChange:s=>p(s.open),children:[e.jsx(t,{px:6,py:4,children:e.jsxs(w,{as:c,variant:"ghost",size:"md",width:"full",justifyContent:"space-between",_hover:{bg:"blue.muted"},bg:"transparent",children:[e.jsxs(y,{align:"center",gap:3,children:[e.jsx(a,{fontSize:"md",fontWeight:"semibold",color:"blue.700",children:"Language Pairs"}),e.jsx(S,{colorPalette:"blue",variant:"subtle",size:"sm",children:n.length})]}),e.jsx(t,{color:"blue.600",children:o?e.jsx(P,{}):e.jsx(M,{})})]})}),e.jsx(z,{children:e.jsx(t,{px:6,pb:4,children:e.jsx($,{columns:{base:1,sm:2,md:3,lg:4,xl:5},gap:2,children:n.map(s=>e.jsx(c,{variant:"outline",size:"sm",onClick:()=>j(s.value),_hover:{bg:"blue.100",borderColor:"blue.400"},justifyContent:"flex-start",bg:"white",borderColor:"blue.200",children:e.jsx(a,{fontSize:"xs",color:"blue.700",children:s.label})},s.value))})})})]})}),e.jsx(t,{py:6,px:6,children:e.jsx(h,{gap:6,align:"stretch",children:n.length===0?e.jsx(t,{p:6,borderWidth:"1px",borderRadius:"md",bg:"white",textAlign:"center",children:e.jsx(a,{color:"fg.muted",children:"No translation memory data found."})}):e.jsx(h,{gap:6,align:"stretch",maxW:"800px",mx:"auto",w:"100%",children:n.map(({sourceLang:s,targetLang:r})=>e.jsx(B,{sourceLang:s,targetLang:r},`${s}-${r}`))})})})]})};export{W as default};
